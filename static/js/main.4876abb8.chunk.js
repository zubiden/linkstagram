(this.webpackJsonplinkstagram=this.webpackJsonplinkstagram||[]).push([[0],{12:function(e,t,n){e.exports={slider:"Slider_slider__3A2az",roundBorders:"Slider_roundBorders__N0UNE",button:"Slider_button__17i9F",right:"Slider_right__3IBug",left:"Slider_left__1VHjc",square:"Slider_square__2pq5e",image:"Slider_image__29c0_",big:"Slider_big__2_H5F",prev:"Slider_prev__M5K3f",next:"Slider_next__3jrG6",current:"Slider_current__2MgGL",padded:"Slider_padded__38C8D",secondPrev:"Slider_secondPrev__3KNld",secondNext:"Slider_secondNext__3sPlE",position:"Slider_position__3QVNm",point:"Slider_point__15Pih"}},125:function(e,t,n){e.exports={iconButton:"IconButton_iconButton__1icvX"}},126:function(e,t,n){e.exports={textArea:"TextArea_textArea__2zwX3"}},128:function(e,t,n){e.exports={input:"Input_input__3EuCO"}},13:function(e,t,n){e.exports={modalPost:"ModalPost_modalPost__1L6RD",slider:"ModalPost_slider__gPdCv",noImages:"ModalPost_noImages__ax5Gw",data:"ModalPost_data__2zYZ2",header:"ModalPost_header__3ZVGN",avatar:"ModalPost_avatar__tcw-M",name:"ModalPost_name__n-uyA",separator:"ModalPost_separator__YWCJ7",close:"ModalPost_close__2Vn61",buttons:"ModalPost_buttons__3--uR",like:"ModalPost_like__3KuAn",comments:"ModalPost_comments__1y2kU",padding:"ModalPost_padding__19rl7",comment:"ModalPost_comment__1_-Yh",newComment:"ModalPost_newComment__1i5qe",input:"ModalPost_input__1PuuI",post:"ModalPost_post__2sug1"}},15:function(e,t,n){e.exports={profileEdit:"ProfileEdit_profileEdit__iDLMl",header:"ProfileEdit_header__3Idmi",title:"ProfileEdit_title__2TGIH",logout:"ProfileEdit_logout__2m76b",topBlock:"ProfileEdit_topBlock__ETWyG",avatarWrapper:"ProfileEdit_avatarWrapper__1XsL3",avatar:"ProfileEdit_avatar__1SRbI",avatarText:"ProfileEdit_avatarText__2toBy",name:"ProfileEdit_name__2mX0L",input:"ProfileEdit_input__L2H48",description:"ProfileEdit_description__3JWjj",buttons:"ProfileEdit_buttons__1p7ap"}},16:function(e,t,n){e.exports={login:"Login_login__ouCTB",content:"Login_content__3YGvZ",presentation:"Login_presentation__145vV",scrollable:"Login_scrollable__arfto",profile:"Login_profile__3UHv_",float1:"Login_float1__JNb_A",float2:"Login_float2__26i3K",float3:"Login_float3__1yQQa",authPane:"Login_authPane__IHzBx",title:"Login_title__3VCx7",input:"Login_input__2gh-1",button:"Login_button__2Vpm8",error:"Login_error__3SyBg",mobileSeparator:"Login_mobileSeparator___RmK7",switch:"Login_switch__4MshC",inlineSwitch:"Login_inlineSwitch__1ywMx"}},18:function(e,t,n){e.exports={post:"Post_post__1te52",header:"Post_header__3Gzyc",info:"Post_info__Xy-Np",name:"Post_name__3CpU5",time:"Post_time__3_nO7",more:"Post_more__14-xe",content:"Post_content__22_-o",description:"Post_description__3kjSL",footer:"Post_footer__3xwoU",iconButton:"Post_iconButton__3cLRW",separator:"Post_separator__1SbIb",share:"Post_share__287j5",danger:"Post_danger__2HN30"}},22:function(e,t,n){e.exports={header:"Header_header__1fCsm",logo:"Header_logo__2gAbO",back:"Header_back__1F8AG",separator:"Header_separator__wmxr4",button:"Header_button__1JOra",dropdown:"Header_dropdown__39YJG",control:"Header_control__tUaTp",placeholder:"Header_placeholder__20Sp9",menu:"Header_menu__1bgN5",option:"Header_option__1oXVO",reserver:"Header_reserver__iHJu7"}},286:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(50),c=n.n(r),s=n(62),i=n.n(s),l=n(34),u=n(25),d=n(9),j=n(4),f=n(14),_=n(3),p=n(23),b=n(5),m=n.n(b),h=n(38),O=n.n(h),v=n(0),x=function(e){var t,n=e.color,a=void 0===n?"white":n,o=e.lightBorder,r=void 0!==o&&o,c=e.square,s=void 0!==c&&c,i=e.to,l=e.className,u=e.children,j=e.smallPadding,b=void 0!==j&&j,h=e.onClick,x=Object(p.a)(e,["color","lightBorder","square","to","className","children","smallPadding","onClick"]),g=Object(d.g)();return Object(v.jsx)("button",Object(f.a)(Object(f.a)({className:m()((t={},Object(_.a)(t,O.a.button,!0),Object(_.a)(t,O.a[a],!0),Object(_.a)(t,O.a.square,s),Object(_.a)(t,O.a.lightBorder,r),Object(_.a)(t,O.a.smallPadding,b),t),l),onClick:function(e){null===h||void 0===h||h(e),i&&g.push(i)}},x),{},{children:u}))},g=n(83),N=n(2),w=n.n(N),k=n(7),P=n(8),C={uk:"UA",en:"EN"},S={strings:{},code:localStorage.getItem("langCode")||"en",status:"idle"},y=Object(P.b)("localization/setLanguage",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in C)){e.next=8;break}if(a=n.getState(),o=T(a),!Object.keys(o).length||t!==F(a)){e.next=5;break}return e.abrupt("return",o);case 5:return e.abrupt("return",fetch("".concat("language","/").concat(t,".json")).then((function(e){return e.json()})).then((function(e){var a={};for(var o in e)a[o]=e[o];return localStorage.setItem("langCode",t),n.dispatch(B(t)),a})));case 8:throw new Error("Not a valid language!");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(P.c)({name:"localization",initialState:S,reducers:{setLanguageCode:function(e,t){e.code=t.payload}},extraReducers:function(e){e.addCase(y.pending,(function(e){e.status="loading"})).addCase(y.fulfilled,(function(e,t){e.status="idle",e.strings=t.payload}))}}),E=I.reducer,B=I.actions.setLanguageCode,F=function(e){return e.localization.code},T=function(e){return e.localization.strings},A=n(17),R="https://linkstagram-api.ga",q=function(e){return fetch("".concat(R,"/login"),{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){var t=e.headers.get("authorization");return t?localStorage.setItem("auth",t):localStorage.removeItem("auth"),e.json()}))},L=function(e,t){return G("".concat(R,"/posts/").concat(e,"/comments"),"POST",{message:t})},z=function(e){return G("".concat(R,"/posts/").concat(e,"/comments"))},M=function(e){return G("".concat(R,"/posts/").concat(e,"/like"),"DELETE")},H=function(e){return G("".concat(R,"/posts/").concat(e,"/like"),"POST")},U=function(e){return G("".concat(R,"/posts/").concat(e))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return G("".concat(R,"/posts?page=").concat(e))},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return G("".concat(R,"/profiles/").concat(e,"/posts?page=").concat(t))},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return G("".concat(R,"/profiles?page=").concat(e))},W=function(e){return G("".concat(R,"/profiles/").concat(e))},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};a.headers=new Headers({"Content-Type":"application/json"}),n&&(a.body=JSON.stringify(n));var o=localStorage.getItem("auth");return o&&a.headers.set("Authorization","Bearer "+o),fetch(e,a).then((function(e){if(!e.ok)throw Error();return e.text()})).then((function(e){return 0===e.length?{}:JSON.parse(e)}))},Y=Object(P.b)("openedPost/openPost",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t).then((function(e){return n.dispatch(X(e.id)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),X=Object(P.b)("openedPost/loadComments",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),K=Object(P.b)("openedPost/leaveComment",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.post_id,o=t.message){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,L(a,o);case 5:n.dispatch(X(a));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(P.c)({name:"openedPost",initialState:{post:null,comments:[],postStatus:"idle",commentsStatus:"idle"},reducers:{closePost:function(e){e.post=null,e.comments=[]},setOpenedPost:function(e,t){e.post=t.payload,e.postStatus="idle"}},extraReducers:function(e){e.addCase(Y.pending,(function(e){e.postStatus="loading",e.post=null})).addCase(Y.fulfilled,(function(e,t){e.postStatus="idle",e.post=t.payload})).addCase(Y.rejected,(function(e){e.postStatus="failed"})).addCase(X.pending,(function(e){e.commentsStatus="loading",e.comments=[]})).addCase(X.fulfilled,(function(e,t){e.commentsStatus="idle",e.comments=t.payload})).addCase(X.rejected,(function(e){e.commentsStatus="failed"}))}}),Q=Z.reducer,$=Z.actions,ee=$.closePost,te=$.setOpenedPost,ne=function(e){return e.openedPost.post},ae=function(e){return e.openedPost.comments},oe=Object(P.b)("posts/check",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o,r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState(),o=Oe(a),r=me(a),e.next=5,o?J(o,1):D(1);case 5:c=e.sent,n.dispatch(be(c[0].id>r[0].id));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),re=Object(P.b)("posts/fetchAllPosts",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o,r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.dispatch(_e(t||null)),a=!0,o=[],r=1,c=w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t?J(t,r):D(r);case 2:(n=e.sent).length&&!o.find((function(e){return e.id===n[0].id}))?o.push.apply(o,Object(A.a)(n)):a=!1,r++;case 5:case"end":return e.stop()}}),e)}));case 5:if(!a){e.next=9;break}return e.delegateYield(c(),"t0",7);case 7:e.next=5;break;case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ce=Object(P.b)("posts/fetchPost",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:return a=e.sent,(null===(o=ne(n.getState()))||void 0===o?void 0:o.id)===a.id&&n.dispatch(te(a)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),se=Object(P.b)("posts/like",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:n.dispatch(ce(t));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ie=Object(P.b)("posts/dislike",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:n.dispatch(ce(t));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),le=Object(P.b)("posts/delete",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,G("".concat(R,"/posts/").concat(a),"DELETE");case 2:n.dispatch(pe(t));case 3:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(P.b)("posts/post",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,G("".concat(R,"/posts"),"POST",{post:a});case 2:n.dispatch(re(Oe(n.getState())));case 3:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}()),de=Object(P.c)({name:"posts",initialState:{loadedPosts:[],currentPostsUsername:null,newPostsAvailable:!1,status:"idle"},reducers:{setCurrentPostsUsername:function(e,t){e.currentPostsUsername=t.payload},removePost:function(e,t){e.loadedPosts=e.loadedPosts.filter((function(e){return e.id!==t.payload}))},setNewPostsAvailable:function(e,t){e.newPostsAvailable=t.payload}},extraReducers:function(e){e.addCase(re.pending,(function(e){e.status="loading",e.loadedPosts=[]})).addCase(re.fulfilled,(function(e,t){e.status="idle",e.loadedPosts=t.payload,e.newPostsAvailable=!1})).addCase(re.rejected,(function(e){e.status="failed"})).addCase(ce.fulfilled,(function(e,t){var n=e.loadedPosts.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.loadedPosts[n]=t.payload)}))}}),je=de.reducer,fe=de.actions,_e=fe.setCurrentPostsUsername,pe=fe.removePost,be=fe.setNewPostsAvailable,me=function(e){return e.posts.loadedPosts},he=function(e){return e.posts.status},Oe=function(e){return e.posts.currentPostsUsername},ve=function(e){return e.posts.newPostsAvailable},xe=Object(P.b)("profile/fetchAllProfiles",Object(k.a)(w.a.mark((function e(){var t,n,a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=[],a=1,o=w.a.mark((function e(){var o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(a);case 2:(o=e.sent).length&&!n.find((function(e){return e.username===o[0].username}))?n.push.apply(n,Object(A.a)(o)):t=!1,a++;case 5:case"end":return e.stop()}}),e)}));case 4:if(!t){e.next=8;break}return e.delegateYield(o(),"t0",6);case 6:e.next=4;break;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))),ge=Object(P.b)("profile/fetchAccount",Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("".concat(R,"/account"));case 2:if(!ke(t=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),Ne=Object(P.b)("profile/updateAccount",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=t,G("".concat(R,"/account"),"PATCH",{account:o});case 2:if(!ke(a=e.sent)){e.next=7;break}throw Error("Failed to update account");case 7:return n.dispatch(re(Oe(n.getState()))),e.abrupt("return",a);case 9:case"end":return e.stop()}var o}),e)})));return function(t,n){return e.apply(this,arguments)}}()),we=Object(P.b)("profile/logount",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("auth"),n.dispatch(ye()),n.dispatch(re());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());function ke(e){return!!e.error}var Pe=Object(P.c)({name:"profile",initialState:{account:null,allProfiles:[],profilesFetchStatus:"idle",accountFetchStatus:"idle"},reducers:{clearCurrentAccount:function(e){e.account=null},resetAccountFetchStatus:function(e){e.accountFetchStatus="idle"}},extraReducers:function(e){e.addCase(xe.pending,(function(e){e.profilesFetchStatus="loading"})).addCase(xe.fulfilled,(function(e,t){e.profilesFetchStatus="idle",e.allProfiles=t.payload})).addCase(xe.rejected,(function(e){e.profilesFetchStatus="failed",e.allProfiles=[]})).addCase(ge.pending,(function(e){e.accountFetchStatus="loading"})).addCase(ge.fulfilled,(function(e,t){e.accountFetchStatus="idle",e.account=t.payload})).addCase(ge.rejected,(function(e){e.accountFetchStatus="failed",e.account=null})).addCase(Ne.fulfilled,(function(e,t){e.account=t.payload}))}}),Ce=Pe.reducer,Se=Pe.actions,ye=Se.clearCurrentAccount,Ie=(Se.resetAccountFetchStatus,function(e){return e.profile.allProfiles}),Ee=function(e){return e.profile.account},Be=function(e){return!!e.profile.account},Fe=function(e){return"loading"===e.profile.accountFetchStatus},Te=function(){return Object(l.b)()},Ae=l.c,Re=function(){var e=Ae(Be),t=Ae(Fe),n=Object(d.g)();return function(a){t||(e?null===a||void 0===a||a():n.push("/login"))}},qe=function(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(j.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){function e(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},Le=function(){var e=Ae(T),t=Ae(F);return function n(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NO_TRANSLATION_KEY_PROVIDED",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(Me(a))return n(a.key,a.replaces,a.count,a.defaultValue);var s=e[a];if(!s)return c||a;var i=a;for(var l in i=He(s)?s[ze(t,r)]||s.other:s,o){var u=o[l];i=i.replaceAll("{".concat(l,"}"),u)}return i}},ze=function(e,t){return{uk:g.b,en:g.a}[e](t)},Me=function(e){return void 0===e.length},He=function(e){return void 0===e.length},Ue=n(52),De=n.n(Ue),Je=function(){var e=Le();return Object(v.jsxs)("footer",{className:De.a.footer,children:[Object(v.jsxs)("div",{className:De.a.buttonRow,children:[Object(v.jsx)(Ve,{text:e("footer_about")}),Object(v.jsx)(Ve,{text:e("footer_help")}),Object(v.jsx)(Ve,{text:e("footer_privacy")}),Object(v.jsx)(Ve,{text:e("footer_terms")}),Object(v.jsx)(Ve,{text:e("footer_locations")}),Object(v.jsx)(Ve,{text:e("footer_language")})]}),Object(v.jsx)("div",{className:De.a.buttonRow,children:Object(v.jsx)(Ve,{text:e("footer_copyright",{year:2021..toString()})})})]})},Ve=function(e){var t=e.text;return Object(v.jsx)("div",{className:De.a.greyButton,children:t})},We=n(124),Ge=n.n(We),Ye=n(39),Xe=n.n(Ye),Ke=function(e){var t,n,a=e.url,o=e.size,r=void 0===o?"4em":o,c=e.border,s=void 0!==c&&c,i=e.clickable,l=e.to,u=e.className,j=e.onClick,b=Object(p.a)(e,["url","size","border","clickable","to","className","onClick"]);a=a||"images/placeholder.png",i=i||!!l||!!j;var h=Object(d.g)();return Object(v.jsx)("div",Object(f.a)(Object(f.a)({className:m()((t={},Object(_.a)(t,Xe.a.square,!0),Object(_.a)(t,Xe.a.clickable,i),t),u),style:{width:r},onClick:function(e){null===j||void 0===j||j(e),l&&h.push(l)}},b),{},{children:Object(v.jsx)("div",{className:m()((n={},Object(_.a)(n,Xe.a.border,!0),Object(_.a)(n,Xe.a.visible,s),n)),children:Object(v.jsx)("img",{src:a,className:Xe.a.avatar,alt:"Avatar"})})}))},Ze=n(22),Qe=n.n(Ze),$e=function(e){var t=e.home,n=void 0!==t&&t,a=e.profile,o=void 0!==a&&a,r=e.login,c=void 0!==r&&r,s=e.back,i=void 0!==s&&s,l=e.onBackClick,d=Te(),f=Le(),_=Ae(Be),p=Ae(Ee),b=Ae(F),m=Object.entries(C).map((function(e){var t=Object(j.a)(e,2);return{value:t[0],label:t[1],className:Qe.a.option}}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("header",{className:Qe.a.header,children:[i?Object(v.jsx)("i",{className:"icon icon-arrow ".concat(Qe.a.back),onClick:l}):Object(v.jsx)(u.b,{to:"/",className:Qe.a.logo,children:"Linkstagram"}),Object(v.jsx)("div",{className:Qe.a.separator}),n&&Object(v.jsx)(x,{color:"black",className:Qe.a.button,to:"/",children:f("header_home")}),Object(v.jsx)(Ge.a,{options:m,value:C[b],onChange:function(e){return d(y(e.value))},className:Qe.a.dropdown,controlClassName:Qe.a.control,placeholderClassName:Qe.a.placeholder,menuClassName:Qe.a.menu}),c&&!_&&Object(v.jsx)(x,{color:"black",className:Qe.a.button,to:"/login",children:f("general_login")}),o&&_&&Object(v.jsx)(Ke,{url:p.profile_photo_url,size:"2.5em",to:"/profile"})]}),Object(v.jsx)("div",{className:Qe.a.reserver})]})},et=function(){return window.innerWidth>=1014},tt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),nt=n(125),at=n.n(nt),ot=function(e){var t,n=e.icon,a=e.text,o=e.checkedColor,r=void 0===o?"red":o,c=e.checked,s=void 0!==c&&c,i=e.className,l=Object(p.a)(e,["icon","text","checkedColor","checked","className"]);return Object(v.jsxs)("button",Object(f.a)(Object(f.a)({className:m()(Object(_.a)({},at.a.iconButton,!0),i)},l),{},{children:[Object(v.jsx)("i",{className:m()((t={icon:!0},Object(_.a)(t,"icon-".concat(n),!0),Object(_.a)(t,r,s),t))}),Object(v.jsx)("span",{children:a})]}))},rt=n(66),ct=n.n(rt),st=function(e){var t,n=e.isOpen,a=e.onRequestClose,o=e.className,r=e.tabletExpand,c=void 0!==r&&r,s=e.children;return Object(v.jsx)(i.a,{className:m()((t={},Object(_.a)(t,ct.a.modal,!0),Object(_.a)(t,ct.a.tabletExpand,c),t),o),overlayClassName:ct.a.overlay,isOpen:n,onRequestClose:a,children:s})},it=n(134),lt=n(126),ut=n.n(lt),dt=function(e){var t=e.label,n=e.placeholder,a=e.className,o=Object(p.a)(e,["label","placeholder","className"]);return Object(v.jsxs)("label",{className:m()(Object(_.a)({},ut.a.textArea,!0),a),children:[t,Object(v.jsx)(it.a,Object(f.a)({placeholder:n},o))]})},jt=n(12),ft=n.n(jt),_t=function(e){var t,n,o,r,c=e.photos,s=e.sides,i=void 0!==s&&s,l=e.roundBorders,u=e.onCenterClick,d=e.className,f=Object(a.useState)(0),p=Object(j.a)(f,2),b=p[0],h=p[1],O=b===c.length-1?c[b-2]:null,x=b>0?c[b-1]:null,g=c[b],N=b<c.length-1?c[b+1]:null,w=0===b&&c.length>2?c[b+2]:null,k=!i||!x&&!N,P=function(e){e.stopPropagation(),h(Math.max(b-1,0))},C=function(e){e.stopPropagation(),h(Math.min(b+1,c.length-1))};return Object(a.useEffect)((function(){h(0)}),[c]),Object(v.jsxs)("div",{className:m()((t={},Object(_.a)(t,ft.a.slider,!0),Object(_.a)(t,ft.a.roundBorders,l),t),d),children:[Object(v.jsx)("svg",{viewBox:"0 0 1 ".concat(k?1:.8)}),i&&O&&Object(v.jsx)(mt,{photo:O,className:ft.a.secondPrev,onClick:P}),i&&x&&Object(v.jsx)(mt,{photo:x,className:m()((n={},Object(_.a)(n,ft.a.prev,!0),Object(_.a)(n,ft.a.padded,O),n)),onClick:P}),x&&Object(v.jsx)(bt,{direction:"left",onClick:P}),g&&Object(v.jsx)(mt,{photo:g,className:m()((o={},Object(_.a)(o,ft.a.current,!0),Object(_.a)(o,ft.a.left,w),Object(_.a)(o,ft.a.right,O),Object(_.a)(o,ft.a.big,k),o)),onClick:u}),N&&Object(v.jsx)(bt,{direction:"right",onClick:C}),i&&N&&Object(v.jsx)(mt,{photo:N,className:m()((r={},Object(_.a)(r,ft.a.next,!0),Object(_.a)(r,ft.a.padded,w),r)),onClick:C}),i&&w&&Object(v.jsx)(mt,{photo:w,className:ft.a.secondNext,onClick:C}),!i&&c.length>1&&Object(v.jsx)("div",{className:ft.a.position,children:new Array(c.length).fill(null).map((function(e,t){return Object(v.jsx)(pt,{current:t===b,onClick:function(e){e.stopPropagation(),h(t)}})}))})]})},pt=function(e){var t,n=e.current,a=e.onClick;return Object(v.jsx)("div",{className:m()((t={},Object(_.a)(t,ft.a.point,!0),Object(_.a)(t,ft.a.current,n),t)),onClick:a})},bt=function(e){var t,n=e.direction,a=e.onClick;return Object(v.jsx)("div",{className:m()((t={},Object(_.a)(t,ft.a.button,!0),Object(_.a)(t,ft.a[n],!0),t)),onClick:a,children:Object(v.jsx)("i",{className:"icon icon-arrow"})})},mt=function(e){var t=e.photo,n=e.className,a=e.onClick;return Object(v.jsxs)("div",{className:m()(ft.a.square,n),onClick:a,children:[Object(v.jsx)("svg",{viewBox:"0 0 1 1"}),Object(v.jsx)("img",{className:ft.a.image,src:t.url,alt:"Post content"})]})},ht=Object(P.b)("comments/fetchAllPosts",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(xt(t)),e.abrupt("return",z(t));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ot=Object(P.c)({name:"comments",initialState:{loadedComments:[],currentPostId:-1,status:"idle"},reducers:{setCurrentPostId:function(e,t){e.currentPostId=t.payload}},extraReducers:function(e){e.addCase(ht.pending,(function(e){e.status="loading",e.loadedComments=[]})).addCase(ht.fulfilled,(function(e,t){e.status="idle",e.loadedComments=t.payload})).addCase(ht.rejected,(function(e){e.status="failed"}))}}),vt=Ot.reducer,xt=Ot.actions.setCurrentPostId,gt=Object(P.a)({reducer:{posts:je,openedPost:Q,profile:Ce,comments:vt,localization:E}}),Nt=function(e,t){"string"===typeof e&&(e=new Date(e.replace(/-/g,"/")).getTime()/1e3),t=t||Date.now()/1e3;var n=Math.abs(t-e);if(n<60)return{key:"date_now"};if(n<3600){var a=Math.floor(n/60);return{key:"date_minutes",count:a,replaces:{count:a.toString()}}}if(n<86400){var o=Math.floor(n/3600);return{key:"date_hours",count:o,replaces:{count:o.toString()}}}return{key:"date_date",replaces:{date:new Date(1e3*e).toLocaleDateString(F(gt.getState()),{year:"numeric",month:"long",day:"2-digit"})}}},wt=function(e){var t=e.split("\n").map((function(e,t){return[e,Object(v.jsx)("br",{},t)]})).flat(1);return t.pop(),t},kt=n(40),Pt=n.n(kt),Ct=function(e){var t=e.avatarSize,n=void 0===t?"2.5rem":t,a=e.comment,o=e.className,r=Le();return Object(v.jsxs)("div",{className:m()([Pt.a.comment,o]),children:[Object(v.jsx)(Ke,{url:a.commenter.profile_photo_url,size:n}),Object(v.jsxs)("div",{className:Pt.a.column,children:[Object(v.jsx)("div",{className:Pt.a.name,children:"".concat(a.commenter.first_name||""," ").concat(a.commenter.last_name||"")}),Object(v.jsx)("div",{className:Pt.a.message,children:wt(a.message)}),Object(v.jsx)("div",{className:Pt.a.time,children:r(Nt(a.created_at))})]})]})},St=n(54);n(154);function yt(e){navigator.clipboard?navigator.clipboard.writeText(e):function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(n){console.error("Failed to copy text to clipboard!",n)}document.body.removeChild(t)}(e)}var It=n(18),Et=n.n(It),Bt=function(e){var t=e.post,n=e.sliderSides,a=e.onImageClicked,o=Le(),r=Object(d.g)(),c=Te(),s=Object(St.c)({id:t.id}).show,i=Ae(Ee),l=Re();return Object(v.jsxs)("div",{className:Et.a.post,children:[Object(v.jsxs)("div",{className:Et.a.header,children:[Object(v.jsx)(Ke,{url:t.author.profile_photo_url,size:"2.5em",to:"/profile/".concat(t.author.username)}),Object(v.jsxs)("div",{className:Et.a.info,children:[Object(v.jsx)("div",{className:Et.a.name,children:"".concat(t.author.first_name||""," ").concat(t.author.last_name||"")}),Object(v.jsx)("div",{className:Et.a.time,children:o(Nt(t.created_at))})]}),Object(v.jsx)("div",{className:Et.a.more,onClick:function(e){return s(e)},children:Object(v.jsx)("i",{className:"icon icon-more"})})]}),Object(v.jsxs)("div",{className:Et.a.content,children:[t.photos.length?Object(v.jsx)(_t,{photos:t.photos,onCenterClick:a,sides:n,roundBorders:!0}):null,t.description&&Object(v.jsx)("div",{className:Et.a.description,children:wt(t.description)})]}),Object(v.jsxs)("div",{className:Et.a.footer,children:[Object(v.jsx)(ot,{className:Et.a.iconButton,icon:"like",text:t.likes_count.toString(),checked:t.is_liked,onClick:function(){return l((function(){return c(t.is_liked?ie(t.id):se(t.id))}))}}),Object(v.jsx)(ot,{className:Et.a.iconButton,icon:"comments",text:"0",onClick:function(){return r.push("/".concat(t.id))}}),Object(v.jsx)("div",{className:Et.a.separator}),Object(v.jsxs)("div",{className:Et.a.share,onClick:function(){return Ft(t.id)},children:[o("post_share")," ",Object(v.jsx)("i",{className:"icon icon-arrow"})]})]}),Object(v.jsxs)(St.b,{id:t.id,children:[Object(v.jsx)(St.a,{onClick:function(){return Ft(t.id)},children:o("post_copy_link")}),(null===i||void 0===i?void 0:i.username)===t.author.username&&Object(v.jsx)(St.a,{className:Et.a.danger,onClick:function(){return c(le(t.id))},children:o("post_delete")})]})]})},Ft=function(e){yt("https://zubiden.github.io/linkstagram#/"+e)},Tt=n(13),At=n.n(Tt),Rt=function(e){var t=e.postId,n=void 0===t?-1:t,o=e.opened,r=void 0!==o&&o,c=e.onRequestClose,s=Le(),i=Te();qe();var l,u=Ae(ne),d=Ae(he),j=Ae(ae);return Object(a.useEffect)((function(){i(n>=0?Y(n):ee())}),[i,n]),l=u?et()?Object(v.jsxs)(v.Fragment,{children:[u.photos.length?Object(v.jsx)(_t,{photos:u.photos,className:At.a.slider}):Object(v.jsx)("div",{className:At.a.noImages,children:s("post_no_images")}),Object(v.jsxs)("div",{className:At.a.data,children:[Object(v.jsxs)("div",{className:At.a.header,children:[Object(v.jsx)(Ke,{className:At.a.avatar,url:u.author.profile_photo_url,size:"3rem"}),Object(v.jsx)("div",{className:At.a.name,children:"".concat(u.author.first_name||""," ").concat(u.author.last_name||"")}),Object(v.jsx)("div",{className:At.a.separator}),Object(v.jsx)("i",{className:"icon icon-cross ".concat(At.a.close),onClick:c})]}),Object(v.jsx)(qt,{post:u,comments:j,likes:!0,padding:!0})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)($e,{back:!0,onBackClick:c}),Object(v.jsx)(Bt,{post:u,sliderSides:!0}),Object(v.jsx)(qt,{post:u,comments:j})]}):s("loading"===d?"general_loading":"general_error_loading"),Object(v.jsx)(st,{isOpen:r,className:At.a.modalPost,onRequestClose:c,tabletExpand:!0,children:l})},qt=function(e){var t,n=e.comments,o=e.post,r=e.likes,c=void 0!==r&&r,s=e.padding,i=void 0!==s&&s,l=Le(),u=Te(),d=Re(),f=Object(a.useState)(""),p=Object(j.a)(f,2),b=p[0],h=p[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:m()((t={},Object(_.a)(t,At.a.comments,!0),Object(_.a)(t,At.a.padding,i),t)),children:n.length?n.map((function(e){return Object(v.jsx)(Ct,{avatarSize:"3rem",className:At.a.comment,comment:e},e.id)})):l("post_no_comments")}),c&&Object(v.jsx)("div",{className:At.a.buttons,children:Object(v.jsx)(ot,{icon:"like",text:o.likes_count.toString(),className:At.a.like,checked:o.is_liked,onClick:function(){return d((function(){return o.is_liked?u(ie(o.id)):u(se(o.id))}))}})}),Object(v.jsxs)("div",{className:At.a.newComment,children:[Object(v.jsx)(dt,{minRows:1,className:At.a.input,placeholder:l("post_add_comment"),value:b,onChange:function(e){return h(e.currentTarget.value)}}),Object(v.jsx)("button",{className:At.a.post,onClick:function(){return d((function(){u(K({post_id:o.id,message:b})),h("")}))},children:l("post_post_comment")})]})]})},Lt=n(53),zt=n.n(Lt),Mt=function(e){var t,n=e.text,a=e.show,o=void 0!==a&&a,r=e.className,c=e.onClick,s=e.onClose;return Object(v.jsxs)("div",{className:m()((t={},Object(_.a)(t,zt.a.toast,!0),Object(_.a)(t,zt.a.show,o),t),r),onClick:c,children:[Object(v.jsx)("div",{className:zt.a.text,children:n}),Object(v.jsx)("i",{className:"icon icon-cross ".concat(zt.a.close),onClick:function(e){e.stopPropagation(),null===s||void 0===s||s(e)}})]})},Ht=n(41),Ut=n.n(Ht),Dt=function(e){var t=e.username,n=Te(),o=Le();Object(a.useEffect)((function(){n(re(t))}),[t,n]);var r,c=Object(a.useState)(-1),s=Object(j.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(j.a)(u,2),f=d[0],_=d[1],p=Ae(me),b=Ae(he),m=Ae(ve);return Object(a.useEffect)((function(){_(m)}),[m]),Object(a.useEffect)((function(){var e=setInterval((function(){n(oe())}),1e4);return function(){return clearInterval(e)}}),[n]),r="idle"===b?p.length?p.map((function(e){return Object(v.jsx)(Bt,{post:e,onImageClicked:function(){l(e.id)}},e.id)})):Object(v.jsx)("div",{className:Ut.a.text,children:o("feed_no_posts")}):"loading"===b?Object(v.jsx)("div",{className:Ut.a.text,children:o("general_loading")}):Object(v.jsx)("div",{className:Ut.a.text,children:o("general_error_loading")}),Object(v.jsxs)("div",{className:Ut.a.feed,children:[Object(v.jsx)(Mt,{className:Ut.a.toast,show:f,text:o("feed_new_posts"),onClick:function(){return n(re(t))},onClose:function(){return _(!1)}}),r,Object(v.jsx)(Rt,{opened:i>=0,postId:i,onRequestClose:function(){return l(-1)}})]})},Jt=n(127),Vt=n.n(Jt),Wt=n(80),Gt=n.n(Wt),Yt=function(){var e=Gt()({restrictions:{maxNumberOfFiles:10,allowedFileTypes:["image/png","image/jpg","image/jpeg"],maxFileSize:5242880}});return e.use(Vt.a,{companionUrl:R}),e},Xt=function(e,t){return e.addFile({name:t.name,type:t.type,data:t,source:"Local"})},Kt=function(e){return e.map((function(e){var t=e.meta.key.split("/"),n=Object(j.a)(t,2),a=n[0];return{id:n[1],storage:a,metadata:{filename:e.meta.name,size:e.data.size,mime_type:e.data.type}}}))},Zt=n(67),Qt=n.n(Zt),$t=function(e){var t=e.uppy,n=e.accept,o=void 0===n?["image/*"]:n,r=e.multiple,c=void 0!==r&&r,s=e.text,i=e.defaultPreviewUrl,l=e.className,u=e.onFailedFiles,d=e.onFilesSelected,f=Object(a.useRef)(null),p=Object(a.useState)([]),b=Object(j.a)(p,2),h=b[0],O=b[1];Object(a.useEffect)((function(){t.getFiles().forEach((function(e){return t.removeFile(e.id)}));var e=[];h.forEach((function(n){try{Xt(t,n)}catch(a){e.push(n)}})),e.length&&(O(h.filter((function(t){return!e.includes(t)}))),null===u||void 0===u||u(e))}),[h,t,u]);var x=function(e){e.preventDefault(),e.stopPropagation()};return Object(v.jsxs)("div",{className:m()(Object(_.a)({},Qt.a.file,!0),l),onClick:function(){var e;return null===(e=f.current)||void 0===e?void 0:e.click()},onDragOver:x,onDragEnter:x,onDragLeave:x,onDrop:function(e){e.preventDefault(),null===d||void 0===d||d(Array.from(e.dataTransfer.files)),O(Array.from(e.dataTransfer.files))},children:[Object(v.jsx)("div",{className:Qt.a.preview,children:h.length?Object(v.jsx)(_t,{photos:en(h),className:Qt.a.slider}):i?Object(v.jsx)("img",{src:i,alt:"Preview"}):s}),Object(v.jsx)("input",{type:"file",accept:o.join(","),multiple:c,ref:f,hidden:!0,onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&(null===d||void 0===d||d(Array.from(e.target.files)),O(Array.from(e.target.files)))}})]})},en=function(e){return e.map((function(e,t){return{id:t,url:URL.createObjectURL(e)}}))},tn=n(42),nn=n.n(tn),an=Yt(),on=function(e){var t=e.opened,n=void 0!==t&&t,o=e.onRequestClose,r=Le(),c=Te(),s=Object(a.useState)(""),i=Object(j.a)(s,2),l=i[0],u=i[1],d=Object(a.useState)(""),f=Object(j.a)(d,2),_=f[0],p=f[1];return Object(a.useEffect)((function(){n||(u(""),p(""),an.reset())}),[n]),Object(v.jsxs)(st,{className:nn.a.newPost,isOpen:n,onRequestClose:o,children:[Object(v.jsx)($t,{text:r("post_new_file"),className:nn.a.input,uppy:an,multiple:!0,accept:["image/png","image/jpg","image/jpeg"],onFailedFiles:function(e){return p(r("post_new_failed_to_select",{files:e.map((function(e){return e.name})).join(",")}))},onFilesSelected:function(){return p("")}}),_&&Object(v.jsx)("div",{className:nn.a.error,children:_}),Object(v.jsx)(dt,{className:nn.a.description,minRows:3,placeholder:r("post_new_description_placeholder"),label:r("post_new_description"),onChange:function(e){return u(e.currentTarget.value)},value:l}),Object(v.jsxs)("div",{className:nn.a.buttons,children:[Object(v.jsx)(x,{lightBorder:!0,onClick:o,children:r("general_cancel")}),Object(v.jsx)(x,{color:"blue",onClick:function(){var e=Object(k.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.upload();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),p(e.t0),e.abrupt("return");case 10:if(!n.failed.length){e.next=13;break}return p(r("post_new_failed_to_upload",{files:n.failed.map((function(e){return e.name})).join(",")})),e.abrupt("return");case 13:n.successful.length?(a=Kt(n.successful),c(ue({description:l,photos_attributes:a.map((function(e){return{image:e}}))})),null===o||void 0===o||o(t)):0===n.successful.length&&0===n.failed.length&&l&&(c(ue({description:l,photos_attributes:[]})),null===o||void 0===o||o(t));case 14:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),children:r("post_new_post")})]})]})},rn=n(128),cn=n.n(rn),sn=function(e){var t=e.label,n=e.placeholder,a=(e.icon,e.iconColor,e.className),o=Object(p.a)(e,["label","placeholder","icon","iconColor","className"]);return Object(v.jsxs)("label",{className:m()(Object(_.a)({},cn.a.input,!0),a),children:[t,Object(v.jsx)("input",Object(f.a)({placeholder:n},o))]})},ln=n(15),un=n.n(ln),dn=Yt(),jn=function(e){var t=e.opened,n=void 0!==t&&t,o=e.onRequestClose,r=Le(),c=Te(),s=Ae(Ee),i=Object(a.useState)(null===s||void 0===s?void 0:s.first_name),l=Object(j.a)(i,2),u=l[0],d=l[1],_=Object(a.useState)(null===s||void 0===s?void 0:s.last_name),p=Object(j.a)(_,2),b=p[0],h=p[1],O=Object(a.useState)(null===s||void 0===s?void 0:s.job_title),g=Object(j.a)(O,2),N=g[0],P=g[1],C=Object(a.useState)(null===s||void 0===s?void 0:s.description),S=Object(j.a)(C,2),y=S[0],I=S[1];return s?Object(v.jsxs)(st,{className:un.a.profileEdit,isOpen:n,onRequestClose:o,children:[Object(v.jsxs)("div",{className:un.a.header,children:[Object(v.jsx)("div",{className:un.a.title,children:r("profile_edit_title")}),Object(v.jsx)("div",{className:un.a.logout,onClick:function(e){c(we()),null===o||void 0===o||o(e)},children:r("general_logout")})]}),Object(v.jsxs)("div",{className:un.a.topBlock,children:[Object(v.jsxs)("div",{className:un.a.avatarWrapper,children:[Object(v.jsx)($t,{className:un.a.avatar,uppy:dn,defaultPreviewUrl:s.profile_photo_url}),Object(v.jsx)("div",{className:un.a.avatarText,children:r("profile_edit_photo")})]}),Object(v.jsxs)("div",{className:un.a.name,children:[Object(v.jsx)(sn,{className:un.a.input,label:r("profile_edit_first_name"),placeholder:r("profile_edit_first_name_placeholder"),value:u,onChange:function(e){return d(e.currentTarget.value)}}),Object(v.jsx)(sn,{className:un.a.input,label:r("profile_edit_second_name"),placeholder:r("profile_edit_second_name_placeholder"),value:b,onChange:function(e){return h(e.currentTarget.value)}})]})]}),Object(v.jsx)(sn,{className:un.a.input,label:r("profile_edit_job_title"),placeholder:r("profile_edit_job_title_placeholder"),value:N,onChange:function(e){return P(e.currentTarget.value)}}),Object(v.jsx)(dt,{className:m()(un.a.input,un.a.description),label:r("profile_edit_description"),placeholder:r("profile_edit_description_placeholder"),value:y,onChange:function(e){return I(e.currentTarget.value)}}),Object(v.jsxs)("div",{className:un.a.buttons,children:[Object(v.jsx)(x,{lightBorder:!0,onClick:o,children:r("general_cancel")}),Object(v.jsx)(x,{color:"blue",onClick:function(){var e=Object(k.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object(f.a)({},s)).first_name=u,n.last_name=b,n.job_title=N,n.description=y,!dn.getFiles().length){e.next=10;break}return e.next=8,dn.upload();case 8:(a=e.sent).successful.length&&(n.profile_photo=Kt(a.successful)[0]);case 10:c(Ne(n)),null===o||void 0===o||o(t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:r("general_save")})]})]}):Object(v.jsx)(st,{className:un.a.profileEdit,isOpen:n,onRequestClose:o,children:"NO ACCOUNT!!!"})},fn=n(6),_n=n.n(fn),pn=function(e){var t=e.profile,n=e.own,o=void 0!==n&&n,r=e.horizontal,c=void 0!==r&&r,s=Le(),i=Re(),l=Object(a.useState)(!1),u=Object(j.a)(l,2),d=u[0],f=u[1],_=Object(a.useState)(!1),p=Object(j.a)(_,2),b=p[0],h=p[1],O="".concat(t.first_name||""," ").concat(t.last_name||"");return c?Object(v.jsxs)("div",{className:m()([_n.a.profileInfo,_n.a.horizontal]),children:[Object(v.jsx)("div",{className:_n.a.avatar,children:Object(v.jsx)(Ke,{url:t.profile_photo_url,border:!0,size:"7.25em"})}),Object(v.jsxs)("div",{className:_n.a.info,children:[Object(v.jsx)("div",{className:_n.a.name,children:O}),Object(v.jsx)("div",{className:_n.a.job,children:t.job_title||""}),Object(v.jsx)("div",{className:_n.a.description,children:wt(t.description||"")})]}),Object(v.jsx)("div",{className:_n.a.separator}),Object(v.jsxs)("div",{className:_n.a.right,children:[Object(v.jsxs)("div",{className:_n.a.social,children:[Object(v.jsxs)("div",{className:_n.a.followers,children:[Object(v.jsx)("div",{className:_n.a.number,children:t.followers}),Object(v.jsx)("div",{className:_n.a.smallText,children:s("profile_followers",{},t.followers)})]}),Object(v.jsxs)("div",{className:_n.a.following,children:[Object(v.jsx)("div",{className:_n.a.number,children:t.following}),Object(v.jsx)("div",{className:_n.a.smallText,children:s("profile_following")})]})]}),o&&Object(v.jsxs)("div",{className:_n.a.actionButtons,children:[Object(v.jsx)(x,{smallPadding:!0,lightBorder:!0,onClick:function(){return i((function(){return h(!0)}))},children:s("profile_edit")}),Object(v.jsx)(x,{smallPadding:!0,color:"blue",onClick:function(){return i((function(){return f(!0)}))},children:s("post_new")})]})]}),Object(v.jsx)(on,{opened:d,onRequestClose:function(){return f(!1)}}),Object(v.jsx)(jn,{opened:b,onRequestClose:function(){return h(!1)}})]}):Object(v.jsxs)("div",{className:_n.a.profileInfo,children:[Object(v.jsxs)("div",{className:_n.a.top,children:[Object(v.jsxs)("div",{className:_n.a.followers,children:[Object(v.jsx)("div",{className:_n.a.number,children:t.followers}),Object(v.jsx)("div",{className:_n.a.smallText,children:s("profile_followers",{},t.followers)})]}),Object(v.jsxs)("div",{className:_n.a.avatar,children:[Object(v.jsx)(Ke,{url:t.profile_photo_url,border:!0,size:"5em"}),o&&Object(v.jsx)("i",{className:"icon icon-add ".concat(_n.a.add)})]}),Object(v.jsxs)("div",{className:_n.a.following,children:[Object(v.jsx)("div",{className:_n.a.number,children:t.following}),Object(v.jsx)("div",{className:_n.a.smallText,children:s("profile_following")})]})]}),Object(v.jsxs)("div",{className:_n.a.bottom,children:[Object(v.jsxs)("div",{className:_n.a.info,children:[O," ",t.job_title?"- ".concat(t.job_title||""):""]}),Object(v.jsx)("div",{className:_n.a.description,children:wt(t.description||"")}),o&&Object(v.jsxs)("div",{className:_n.a.actionButtons,children:[Object(v.jsx)(x,{smallPadding:!0,onClick:function(){return i((function(){return h(!0)}))},children:s("profile_edit")}),Object(v.jsx)(x,{smallPadding:!0,color:"blue",onClick:function(){return i((function(){return f(!0)}))},children:s("post_new")})]})]}),Object(v.jsx)(on,{opened:d,onRequestClose:function(){return f(!1)}}),Object(v.jsx)(jn,{opened:b,onRequestClose:function(){return h(!1)}})]})},bn=n(84),mn=n.n(bn),hn=function(){var e=Te();Object(a.useEffect)((function(){e(xe())}),[e]);var t=Ae(Ie);return Object(v.jsx)("div",{className:mn.a.stories,children:Object(v.jsx)("div",{className:mn.a.scroll,children:t.filter((function(e){return e.profile_photo_url})).map((function(e){return Object(v.jsx)(Ke,{url:e.profile_photo_url,size:"4em",to:"/profile/".concat(e.username),border:!0},e.username)}))})})},On=n(43),vn=n.n(On),xn=function(){var e=Le(),t=Object(d.g)(),n=Object(d.h)().id,o=Object(a.useState)(!1),r=Object(j.a)(o,2),c=r[0],s=r[1],i=Ae(Be),l=Ae(Ee);return Object(a.useEffect)((function(){Number.parseInt(n)?s(!0):s(!1)}),[n]),Object(v.jsxs)("div",{className:vn.a.home,children:[Object(v.jsx)($e,{profile:!0,login:!0}),Object(v.jsxs)("div",{className:vn.a.content,children:[Object(v.jsxs)("div",{className:vn.a.left,children:[Object(v.jsx)(hn,{}),Object(v.jsx)(Dt,{})]}),Object(v.jsx)("div",{className:vn.a.right,children:Object(v.jsxs)("div",{className:vn.a.sticky,children:[i?Object(v.jsx)(pn,{profile:l,own:!0}):Object(v.jsx)(x,{color:"black",to:"/login",children:e("general_login")}),Object(v.jsx)(Je,{})]})})]}),Object(v.jsx)(Rt,{opened:c,postId:Number.parseInt(n)||-1,onRequestClose:function(){return t.push("/")}})]})},gn=n(44),Nn=n(45),wn=n(16),kn=n.n(wn),Pn=function(e){var t=e.signUp,n=void 0!==t&&t,a=Le();return Object(v.jsx)(x,{className:kn.a.button,color:"blue",type:"submit",children:a(n?"login_sign_up_button":"login_login_button")})},Cn=function(e){var t=e.field,n=e.form,a=n.touched,o=n.errors,r=n.setFieldValue,c=n.values,s=Object(p.a)(e,["field","form"]);return Object(v.jsxs)("div",{className:kn.a.input,children:[Object(v.jsx)(sn,Object(f.a)({onChange:function(e){return r(t.name,e.currentTarget.value)},name:t.name,value:c[t.name]},s)),a[t.name]&&o[t.name]&&Object(v.jsx)("div",{className:kn.a.error,children:o[t.name]})]})},Sn=function(){var e=Le(),t=Te(),n=Ae(Be),o=Object(a.useState)(!1),r=Object(j.a)(o,2),c=r[0],s=r[1],i=Nn.a().shape({email:Nn.b().email(e("login_validation_email_invalid")).required(e("login_validation_required")),username:c?Nn.b().min(3,e("login_validation_min_length",{count:"3"},3)).max(20,e("login_validation_max_length",{count:"20"},20)).matches(/^[a-zA-Z0-9._-]*$/,"Use alphabet, numbers and _ -").test("isTaken",e("login_validation_username_taken"),(function(e){return!e||new Promise((function(t,n){W(e).then((function(e){t(!1)})).catch((function(){t(!0)}))}))})).required(e("login_validation_required")):Nn.b(),password:Nn.b().min(6,e("login_validation_min_length",{count:"6"},6)).required(e("login_validation_required"))});return n?Object(v.jsx)(d.a,{to:"/"}):Object(v.jsxs)("div",{className:kn.a.login,children:[Object(v.jsx)($e,{}),Object(v.jsxs)("div",{className:kn.a.content,children:[Object(v.jsxs)("div",{className:kn.a.presentation,children:[Object(v.jsx)("div",{className:kn.a.scrollable,children:Object(v.jsx)("img",{className:kn.a.profile,src:"images/presentation.jpg",alt:"Presentation"})}),Object(v.jsx)("div",{className:kn.a.float1,style:{backgroundImage:"url(images/float1.png)"}}),Object(v.jsx)("div",{className:kn.a.float2,style:{backgroundImage:"url(images/float2.png)"}}),Object(v.jsx)("div",{className:kn.a.float3,style:{backgroundImage:"url(images/float3.png)"}})]}),Object(v.jsxs)("div",{className:kn.a.authPane,children:[Object(v.jsx)("div",{className:kn.a.title,children:e(c?"login_sign_up":"login_login")}),Object(v.jsx)(gn.c,{initialValues:{email:"",username:"",password:""},onSubmit:function(){var e=Object(k.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c?(a={login:n.email,password:n.password,username:n.username},fetch("".concat(R,"/create-account"),{method:"POST",body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){var t=e.headers.get("authorization");return t?localStorage.setItem("auth",t):localStorage.removeItem("auth"),e.json()}))).then((function(){return t(ge())})):q({login:n.email,password:n.password}).then((function(){return t(ge())}));case 1:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:i,children:Object(v.jsxs)(gn.b,{children:[Object(v.jsx)(gn.a,{name:"email",type:"email",component:Cn,label:e("login_field_email_label"),placeholder:e("login_field_email_placeholder")}),c&&Object(v.jsx)(gn.a,{name:"username",component:Cn,label:e("login_field_username_label"),placeholder:e("login_field_username_placeholder")}),Object(v.jsx)(gn.a,{name:"password",component:Cn,type:"password",label:e("login_field_password_label"),placeholder:e("login_field_password_placeholder")}),Object(v.jsx)("div",{className:kn.a.mobileSeparator}),et()&&Object(v.jsx)(Pn,{signUp:c}),Object(v.jsxs)("div",{className:kn.a.switch,children:[e(c?"login_have_account":"login_no_account"),Object(v.jsx)("span",{className:kn.a.inlineSwitch,onClick:function(){return s(!c)},children:e(c?"login_login":"login_sign_up")})]}),!et()&&Object(v.jsx)(Pn,{signUp:c})]})})]})]})]})},yn=n(68),In=n.n(yn),En=function(e){var t=e.username,n=Te(),o=Le();Object(a.useEffect)((function(){n(re(t))}),[t,n]);var r,c=Object(a.useState)(-1),s=Object(j.a)(c,2),i=s[0],u=s[1],d=Object(l.c)(me),f=Object(l.c)(he);return r="idle"===f?d.length?d.map((function(e){return e.photos.map((function(t){return Object(v.jsx)(Bn,{url:t.url,onClick:function(){return u(e.id)}},t.id)}))})).flat(1):Object(v.jsx)("div",{className:In.a.text,children:o("feed_no_posts")}):o("loading"===f?"general_loading":"general_error_loading"),Object(v.jsxs)("div",{className:In.a.photoFeed,children:[r,Object(v.jsx)(Rt,{opened:i>=0,postId:i,onRequestClose:function(){return u(-1)}})]})},Bn=function(e){var t=e.url,n=e.onClick;return Object(v.jsx)("div",{className:In.a.square,onClick:n,style:{backgroundImage:"url(".concat(t,")")}})},Fn=n(86),Tn=n.n(Fn),An=function(){var e=Object(d.h)().username,t=Ae(Ee);qe();var n=Object(a.useState)(null),o=Object(j.a)(n,2),r=o[0],c=o[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),l=i[0],u=i[1];if(Object(a.useEffect)((function(){e?r&&r.username===e||W(e).then((function(e){return c(e)})).catch((function(e){return u("Failed to get profile")})):c(t)}),[e,t,r]),!e&&!localStorage.getItem("auth"))return Object(v.jsx)(d.a,{to:"/login"});var f=!!r&&(null===t||void 0===t?void 0:t.username)===r.username;return Object(v.jsxs)("div",{className:Tn.a.ownProfile,children:[Object(v.jsx)($e,{home:!0,profile:!f}),Object(v.jsx)("div",{className:Tn.a.content,children:l||(r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(pn,{profile:r,own:f,horizontal:et()}),Object(v.jsx)(En,{username:r.username})]}):"Failed to load profile")})]})};var Rn=function(){var e,t=Te(),n=Ae(F);return e=function(){t(y(n)),localStorage.getItem("auth")&&t(ge())},Object(a.useEffect)(e,[]),Object(v.jsx)(u.a,{children:Object(v.jsxs)(d.d,{children:[Object(v.jsx)(d.b,{exact:!0,path:"/login",children:Object(v.jsx)(Sn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/profile/:username",children:Object(v.jsx)(An,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/profile",children:Object(v.jsx)(An,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/:id",children:Object(v.jsx)(xn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/",children:Object(v.jsx)(xn,{})}),Object(v.jsx)(d.b,{children:Object(v.jsx)(d.a,{to:"/"})})]})})};n(286),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qn(){var e=tt?window.visualViewport.height:window.innerHeight;document.documentElement.style.setProperty("--vh100","".concat(e-1,"px"))}c.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(l.a,{store:gt,children:Object(v.jsx)(Rn,{})})}),document.getElementById("app")),i.a.setAppElement("#app"),qn(),window.addEventListener("resize",(function(){qn()})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,n){e.exports={button:"Button_button__Iv7O1",square:"Button_square__24Qg9",smallPadding:"Button_smallPadding__1s_AW",white:"Button_white__E8Wbq",blue:"Button_blue__1Yy1O",black:"Button_black__obrtp",lightBorder:"Button_lightBorder__pQOr6"}},39:function(e,t,n){e.exports={square:"Avatar_square__BGVCN",clickable:"Avatar_clickable__9RUE4",border:"Avatar_border__1fx0F",visible:"Avatar_visible__2JtjS",avatar:"Avatar_avatar__JOSFH"}},40:function(e,t,n){e.exports={comment:"Comment_comment__1oC7d",column:"Comment_column__3_p8X",name:"Comment_name__1yMvS",message:"Comment_message__ZB4Zo",time:"Comment_time__U8Dri"}},41:function(e,t,n){e.exports={feed:"Feed_feed__3hto0",text:"Feed_text__3JgoK",toast:"Feed_toast__3Tmw7"}},42:function(e,t,n){e.exports={newPost:"NewPost_newPost__2t2ka",input:"NewPost_input__O7B-h",error:"NewPost_error__1aIlU",description:"NewPost_description__1_5So",buttons:"NewPost_buttons__2rXn9"}},43:function(e,t,n){e.exports={home:"Home_home__8bgC6",content:"Home_content__3Qx40",left:"Home_left__2wJ4m",right:"Home_right__3Vd87",sticky:"Home_sticky__2N9Pd"}},52:function(e,t,n){e.exports={footer:"Footer_footer__miWNG",buttonRow:"Footer_buttonRow__eb9fI",greyButton:"Footer_greyButton__1OzgT"}},53:function(e,t,n){e.exports={toast:"Toast_toast__2hFr0",show:"Toast_show__1EBgR",text:"Toast_text__1Pkob",close:"Toast_close__2EafD"}},6:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__cLKJa",top:"ProfileInfo_top__3o043",avatar:"ProfileInfo_avatar__2own4",add:"ProfileInfo_add__2ntpg",followers:"ProfileInfo_followers__2Nu_-",following:"ProfileInfo_following__2ttTb",number:"ProfileInfo_number__Lj_2R",smallText:"ProfileInfo_smallText__XuTrR",bottom:"ProfileInfo_bottom__1S_qc",info:"ProfileInfo_info__3zEMb",description:"ProfileInfo_description__1hzwZ",actionButtons:"ProfileInfo_actionButtons__1207A",horizontal:"ProfileInfo_horizontal__1TlCv",name:"ProfileInfo_name__2Nwq-",job:"ProfileInfo_job__b60_r",separator:"ProfileInfo_separator__2VEdK",right:"ProfileInfo_right__1dEse",social:"ProfileInfo_social__17pXh"}},66:function(e,t,n){e.exports={overlay:"Modal_overlay__pTwNa",modal:"Modal_modal__16s7U",tabletExpand:"Modal_tabletExpand__3DpAd"}},67:function(e,t,n){e.exports={file:"ImageInput_file__2jY1F",preview:"ImageInput_preview__3egAg",slider:"ImageInput_slider__vwkRJ"}},68:function(e,t,n){e.exports={photoFeed:"PhotoFeed_photoFeed__1hn3a",square:"PhotoFeed_square__1VW1n"}},84:function(e,t,n){e.exports={stories:"Stories_stories__3gVf3",scroll:"Stories_scroll__2hIlC"}},86:function(e,t,n){e.exports={ownProfile:"Profile_ownProfile__2Inxr",content:"Profile_content__1JwYV"}}},[[287,1,2]]]);
//# sourceMappingURL=main.4876abb8.chunk.js.map