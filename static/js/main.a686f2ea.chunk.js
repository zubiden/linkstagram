(this.webpackJsonplinkstagram=this.webpackJsonplinkstagram||[]).push([[0],{12:function(e,t,n){e.exports={modalPost:"ModalPost_modalPost__1L6RD",slider:"ModalPost_slider__gPdCv",squareContent:"ModalPost_squareContent__362n4",data:"ModalPost_data__2zYZ2",header:"ModalPost_header__3ZVGN",avatar:"ModalPost_avatar__tcw-M",name:"ModalPost_name__n-uyA",separator:"ModalPost_separator__YWCJ7",close:"ModalPost_close__2Vn61",buttons:"ModalPost_buttons__3--uR",like:"ModalPost_like__3KuAn",comments:"ModalPost_comments__1y2kU",padding:"ModalPost_padding__19rl7",comment:"ModalPost_comment__1_-Yh",newComment:"ModalPost_newComment__1i5qe",input:"ModalPost_input__1PuuI",post:"ModalPost_post__2sug1"}},121:function(e,t,n){e.exports={iconButton:"IconButton_iconButton__1icvX"}},122:function(e,t,n){e.exports={textArea:"TextArea_textArea__2zwX3"}},124:function(e,t,n){e.exports={input:"Input_input__3EuCO"}},125:function(e,t,n){e.exports={slider:"StoriesSlider_slider__4u2ic"}},14:function(e,t,n){e.exports={profileEdit:"ProfileEdit_profileEdit__iDLMl",header:"ProfileEdit_header__3Idmi",title:"ProfileEdit_title__2TGIH",logout:"ProfileEdit_logout__2m76b",topBlock:"ProfileEdit_topBlock__ETWyG",avatarWrapper:"ProfileEdit_avatarWrapper__1XsL3",avatar:"ProfileEdit_avatar__1SRbI",avatarText:"ProfileEdit_avatarText__2toBy",name:"ProfileEdit_name__2mX0L",input:"ProfileEdit_input__L2H48",description:"ProfileEdit_description__3JWjj",buttons:"ProfileEdit_buttons__1p7ap"}},15:function(e,t,n){e.exports={post:"Post_post__1te52",header:"Post_header__3Gzyc",info:"Post_info__Xy-Np",name:"Post_name__3CpU5",time:"Post_time__3_nO7",more:"Post_more__14-xe",content:"Post_content__22_-o",square:"Post_square__1NR8U",image:"Post_image__2bHNs",description:"Post_description__3kjSL",footer:"Post_footer__3xwoU",iconButton:"Post_iconButton__3cLRW",separator:"Post_separator__1SbIb",share:"Post_share__287j5"}},20:function(e,t,n){e.exports={header:"Header_header__1fCsm",logo:"Header_logo__2gAbO",back:"Header_back__1F8AG",separator:"Header_separator__wmxr4",button:"Header_button__1JOra",dropdown:"Header_dropdown__39YJG",control:"Header_control__tUaTp",placeholder:"Header_placeholder__20Sp9",menu:"Header_menu__1bgN5",option:"Header_option__1oXVO",reserver:"Header_reserver__iHJu7"}},23:function(e,t,n){e.exports={login:"Login_login__ouCTB",content:"Login_content__3YGvZ",presentation:"Login_presentation__145vV",authPane:"Login_authPane__IHzBx",title:"Login_title__3VCx7",input:"Login_input__2gh-1",button:"Login_button__2Vpm8",error:"Login_error__3SyBg",mobileSeparator:"Login_mobileSeparator___RmK7",switch:"Login_switch__4MshC",inlineSwitch:"Login_inlineSwitch__1ywMx"}},282:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(48),c=n.n(r),s=n(59),i=n.n(s),l=n(25),u=n(24),d=n(9),p=n(3),f=n(13),j=n(5),_=n(21),m=n(8),b=n.n(m),h=n(37),O=n.n(h),v=n(0),x=function(e){var t,n=e.color,a=void 0===n?"white":n,o=e.lightBorder,r=void 0!==o&&o,c=e.square,s=void 0!==c&&c,i=e.to,l=e.className,u=e.children,p=e.smallPadding,m=void 0!==p&&p,h=e.onClick,x=Object(_.a)(e,["color","lightBorder","square","to","className","children","smallPadding","onClick"]),g=Object(d.g)();return Object(v.jsx)("button",Object(f.a)(Object(f.a)({className:b()((t={},Object(j.a)(t,O.a.button,!0),Object(j.a)(t,O.a[a],!0),Object(j.a)(t,O.a.square,s),Object(j.a)(t,O.a.lightBorder,r),Object(j.a)(t,O.a.smallPadding,m),t),l),onClick:function(e){null===h||void 0===h||h(e),i&&g.push(i)}},x),{},{children:u}))},g=n(79),N=n(2),w=n.n(N),k=n(4),P=n(6),C={uk:"UA",en:"EN"},y={strings:{},code:localStorage.getItem("langCode")||"en",status:"idle"},S=Object(P.b)("localization/setLanguage",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in C)){e.next=8;break}if(a=n.getState(),o=q(a),!Object.keys(o).length||t!==T(a)){e.next=5;break}return e.abrupt("return",o);case 5:return e.abrupt("return",fetch("".concat("language","/").concat(t,".json")).then((function(e){return e.json()})).then((function(e){var a={};for(var o in e)a[o]=e[o];return localStorage.setItem("langCode",t),n.dispatch(B(t)),a})));case 8:throw new Error("Not a valid language!");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(P.c)({name:"localization",initialState:y,reducers:{setLanguageCode:function(e,t){e.code=t.payload}},extraReducers:function(e){e.addCase(S.pending,(function(e){e.status="loading"})).addCase(S.fulfilled,(function(e,t){e.status="idle",e.strings=t.payload}))}}),E=I.reducer,B=I.actions.setLanguageCode,T=function(e){return e.localization.code},q=function(e){return e.localization.strings},F=n(16),R="https://linkstagram-api.ga",z=function(e){return fetch("".concat(R,"/login"),{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){var t=e.headers.get("authorization");return t?localStorage.setItem("auth",t):localStorage.removeItem("auth"),e.json()}))},A=function(e,t){return Y("".concat(R,"/posts/").concat(e,"/comments"),"POST",{message:t})},L=function(e){return Y("".concat(R,"/posts/").concat(e,"/comments"))},M=function(e){return Y("".concat(R,"/posts/").concat(e,"/like"),"DELETE")},H=function(e){return Y("".concat(R,"/posts/").concat(e,"/like"),"POST")},U=function(e){return Y("".concat(R,"/posts/").concat(e))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Y("".concat(R,"/posts?page=").concat(e))},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Y("".concat(R,"/profiles/").concat(e,"/posts?page=").concat(t))},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Y("".concat(R,"/profiles?page=").concat(e))},W=function(e){return Y("".concat(R,"/profiles/").concat(e))},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};a.headers=new Headers({"Content-Type":"application/json"}),n&&(a.body=JSON.stringify(n));var o=localStorage.getItem("auth");return o&&a.headers.set("Authorization","Bearer "+o),fetch(e,a).then((function(e){if(!e.ok)throw Error();return e.text()})).then((function(e){return 0===e.length?{}:JSON.parse(e)}))},G=Object(P.b)("posts/fetchAllPosts",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o,r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.dispatch(ae(t||null)),a=!0,o=[],r=1,c=w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t?J(t,r):D(r);case 2:(n=e.sent).length&&!o.find((function(e){return e.id===n[0].id}))?o.push.apply(o,Object(F.a)(n)):a=!1,r++;case 5:case"end":return e.stop()}}),e)}));case 5:if(!a){e.next=9;break}return e.delegateYield(c(),"t0",7);case 7:e.next=5;break;case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),X=Object(P.b)("posts/fetchPost",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(P.b)("posts/like",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:n.dispatch(X(t));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),K=Object(P.b)("posts/dislike",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:n.dispatch(X(t));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Q=Object(P.b)("posts/delete",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,Y("".concat(R,"/posts/").concat(a),"DELETE");case 2:n.dispatch(oe(t));case 3:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}()),$=Object(P.b)("posts/post",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,Y("".concat(R,"/posts"),"POST",{post:a});case 2:n.dispatch(G(se(n.getState())));case 3:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ee=Object(P.c)({name:"posts",initialState:{loadedPosts:[],currentPostsUsername:null,status:"idle"},reducers:{setCurrentPostsUsername:function(e,t){e.currentPostsUsername=t.payload},removePost:function(e,t){e.loadedPosts=e.loadedPosts.filter((function(e){return e.id!==t.payload}))}},extraReducers:function(e){e.addCase(G.pending,(function(e){e.status="loading",e.loadedPosts=[]})).addCase(G.fulfilled,(function(e,t){e.status="idle",e.loadedPosts=t.payload})).addCase(G.rejected,(function(e){e.status="failed"})).addCase(X.fulfilled,(function(e,t){var n=e.loadedPosts.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.loadedPosts[n]=t.payload)}))}}),te=ee.reducer,ne=ee.actions,ae=ne.setCurrentPostsUsername,oe=ne.removePost,re=function(e){return e.posts.loadedPosts},ce=function(e){return e.posts.status},se=function(e){return e.posts.currentPostsUsername},ie=Object(P.b)("profile/fetchAllProfiles",Object(k.a)(w.a.mark((function e(){var t,n,a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=[],a=1,o=w.a.mark((function e(){var o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(a);case 2:(o=e.sent).length&&!n.find((function(e){return e.username===o[0].username}))?n.push.apply(n,Object(F.a)(o)):t=!1,a++;case 5:case"end":return e.stop()}}),e)}));case 4:if(!t){e.next=8;break}return e.delegateYield(o(),"t0",6);case 6:e.next=4;break;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))),le=Object(P.b)("profile/fetchAccount",Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("".concat(R,"/account"));case 2:if(t=e.sent,!t.error){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),ue=Object(P.b)("profile/updateAccount",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=t,Y("".concat(R,"/account"),"PATCH",{account:o});case 2:if(!("error"in(a=e.sent))){e.next=7;break}throw Error("Failed to update account");case 7:return n.dispatch(G(se(n.getState()))),e.abrupt("return",a);case 9:case"end":return e.stop()}var o}),e)})));return function(t,n){return e.apply(this,arguments)}}()),de=Object(P.b)("profile/logount",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("auth"),n.dispatch(_e()),n.dispatch(G());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var pe=Object(P.c)({name:"profile",initialState:{account:null,allProfiles:[],profilesFetchStatus:"idle",accountFetchStatus:"idle"},reducers:{clearCurrentAccount:function(e){e.account=null},resetAccountFetchStatus:function(e){e.accountFetchStatus="idle"}},extraReducers:function(e){e.addCase(ie.pending,(function(e){e.profilesFetchStatus="loading"})).addCase(ie.fulfilled,(function(e,t){e.profilesFetchStatus="idle",e.allProfiles=t.payload})).addCase(ie.rejected,(function(e){e.profilesFetchStatus="failed",e.allProfiles=[]})).addCase(le.pending,(function(e){e.accountFetchStatus="loading"})).addCase(le.fulfilled,(function(e,t){e.accountFetchStatus="idle",e.account=t.payload})).addCase(le.rejected,(function(e){e.accountFetchStatus="failed",e.account=null,localStorage.removeItem("auth")})).addCase(ue.fulfilled,(function(e,t){e.account=t.payload}))}}),fe=pe.reducer,je=pe.actions,_e=je.clearCurrentAccount,me=(je.resetAccountFetchStatus,function(e){return e.profile.allProfiles}),be=function(e){return e.profile.account},he=function(e){return!!e.profile.account},Oe=function(e){return"loading"===e.profile.accountFetchStatus},ve=function(){return Object(l.b)()},xe=l.c,ge=function(){var e=xe(he),t=xe(Oe),n=Object(d.g)();return function(a){t||(e?null===a||void 0===a||a():n.push("/login"))}},Ne=function(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(p.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){function e(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},we=function(){var e=xe(q),t=xe(T);return function n(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NO_TRANSLATION_KEY_PROVIDED",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(Pe(a))return n(a.key,a.replaces,a.count,a.defaultValue);var s=e[a];if(!s)return c||a;var i=a;for(var l in i=Ce(s)?s[ke(t,r)]||s.other:s,o){var u=o[l];i=i.replaceAll("{".concat(l,"}"),u)}return i}},ke=function(e,t){return{uk:g.b,en:g.a}[e](t)},Pe=function(e){return void 0===e.length},Ce=function(e){return void 0===e.length},ye=n(50),Se=n.n(ye),Ie=function(){var e=we();return Object(v.jsxs)("footer",{className:Se.a.footer,children:[Object(v.jsxs)("div",{className:Se.a.buttonRow,children:[Object(v.jsx)(Ee,{text:e("footer_about")}),Object(v.jsx)(Ee,{text:e("footer_help")}),Object(v.jsx)(Ee,{text:e("footer_privacy")}),Object(v.jsx)(Ee,{text:e("footer_terms")}),Object(v.jsx)(Ee,{text:e("footer_locations")}),Object(v.jsx)(Ee,{text:e("footer_language")})]}),Object(v.jsx)("div",{className:Se.a.buttonRow,children:Object(v.jsx)(Ee,{text:e("footer_copyright",{year:2021..toString()})})})]})},Ee=function(e){var t=e.text;return Object(v.jsx)("div",{className:Se.a.greyButton,children:t})},Be=n(120),Te=n.n(Be),qe=n(38),Fe=n.n(qe),Re=function(e){var t,n,a=e.url,o=e.size,r=void 0===o?"4em":o,c=e.border,s=void 0!==c&&c,i=e.clickable,l=e.to,u=e.className,p=e.onClick,m=Object(_.a)(e,["url","size","border","clickable","to","className","onClick"]);a=a||"images/placeholder.png",i=i||!!l||!!p;var h=Object(d.g)();return Object(v.jsx)("div",Object(f.a)(Object(f.a)({className:b()((t={},Object(j.a)(t,Fe.a.square,!0),Object(j.a)(t,Fe.a.clickable,i),t),u),style:{width:r},onClick:function(e){null===p||void 0===p||p(e),l&&h.push(l)}},m),{},{children:Object(v.jsx)("div",{className:b()((n={},Object(j.a)(n,Fe.a.border,!0),Object(j.a)(n,Fe.a.visible,s),n)),children:Object(v.jsx)("img",{src:a,className:Fe.a.avatar,alt:"Avatar"})})}))},ze=n(20),Ae=n.n(ze),Le=function(e){var t=e.home,n=void 0!==t&&t,a=e.profile,o=void 0!==a&&a,r=e.login,c=void 0!==r&&r,s=e.back,i=void 0!==s&&s,l=e.onBackClick,d=ve(),f=we(),j=xe(he),_=xe(be),m=xe(T),b=Object.entries(C).map((function(e){var t=Object(p.a)(e,2);return{value:t[0],label:t[1],className:Ae.a.option}}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("header",{className:Ae.a.header,children:[i?Object(v.jsx)("i",{className:"icon icon-arrow ".concat(Ae.a.back),onClick:l}):Object(v.jsx)(u.b,{to:"/",className:Ae.a.logo,children:"Linkstagram"}),Object(v.jsx)("div",{className:Ae.a.separator}),n&&Object(v.jsx)(x,{color:"black",className:Ae.a.button,to:"/",children:f("header_home")}),Object(v.jsx)(Te.a,{options:b,value:C[m],onChange:function(e){return d(S(e.value))},className:Ae.a.dropdown,controlClassName:Ae.a.control,placeholderClassName:Ae.a.placeholder,menuClassName:Ae.a.menu}),c&&!j&&Object(v.jsx)(x,{color:"black",className:Ae.a.button,to:"/login",children:f("general_login")}),o&&j&&Object(v.jsx)(Re,{url:_.profile_photo_url,size:"2.5em",to:"/profile"})]}),Object(v.jsx)("div",{className:Ae.a.reserver})]})},Me=Object(P.b)("openedPost/openPost",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t).then((function(e){return n.dispatch(He(e.id)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),He=Object(P.b)("openedPost/loadComments",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ue=Object(P.b)("openedPost/leaveComment",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.post_id,o=t.message){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,A(a,o);case 5:n.dispatch(He(a));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),De=Object(P.b)("openedPost/like",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ze(n.getState())){e.next=3;break}return e.abrupt("return");case 3:return o=a.id,e.next=6,H(o);case 6:return(r=e.sent).error||n.dispatch(Ge(!0)),n.dispatch(X(o)),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Je=Object(P.b)("openedPost/dislike",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ze(n.getState())){e.next=3;break}return e.abrupt("return");case 3:return o=a.id,e.next=6,M(o);case 6:e.sent.error||n.dispatch(Ge(!1)),n.dispatch(X(o));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ve=Object(P.c)({name:"posts",initialState:{post:null,comments:[],postStatus:"idle",commentsStatus:"idle"},reducers:{triggerLike:function(e,t){e.post&&(e.post.is_liked=t.payload,e.post.likes_count=e.post.likes_count+(t.payload?1:-1))},closePost:function(e){e.post=null,e.comments=[]}},extraReducers:function(e){e.addCase(Me.pending,(function(e){e.postStatus="loading",e.post=null})).addCase(Me.fulfilled,(function(e,t){e.postStatus="idle",e.post=t.payload})).addCase(Me.rejected,(function(e){e.postStatus="failed"})).addCase(He.pending,(function(e){e.commentsStatus="loading",e.comments=[]})).addCase(He.fulfilled,(function(e,t){e.commentsStatus="idle",e.comments=t.payload})).addCase(He.rejected,(function(e){e.commentsStatus="failed"}))}}),We=Ve.reducer,Ye=Ve.actions,Ge=Ye.triggerLike,Xe=Ye.closePost,Ze=function(e){return e.openedPost.post},Ke=function(e){return e.openedPost.comments},Qe=function(){return window.innerWidth>=1014},$e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),et=n(121),tt=n.n(et),nt=function(e){var t,n=e.icon,a=e.text,o=e.checkedColor,r=void 0===o?"red":o,c=e.checked,s=void 0!==c&&c,i=e.className,l=Object(_.a)(e,["icon","text","checkedColor","checked","className"]);return Object(v.jsxs)("button",Object(f.a)(Object(f.a)({className:b()(Object(j.a)({},tt.a.iconButton,!0),i)},l),{},{children:[Object(v.jsx)("i",{className:b()((t={icon:!0},Object(j.a)(t,"icon-".concat(n),!0),Object(j.a)(t,r,s),t))}),Object(v.jsx)("span",{children:a})]}))},at=n(63),ot=n.n(at),rt=function(e){var t,n=e.isOpen,a=e.onRequestClose,o=e.className,r=e.tabletExpand,c=void 0!==r&&r,s=e.children;return Object(v.jsx)(i.a,{className:b()((t={},Object(j.a)(t,ot.a.modal,!0),Object(j.a)(t,ot.a.tabletExpand,c),t),o),overlayClassName:ot.a.overlay,isOpen:n,onRequestClose:a,children:s})},ct=n(131),st=n(122),it=n.n(st),lt=function(e){var t=e.label,n=e.placeholder,a=e.className,o=Object(_.a)(e,["label","placeholder","className"]);return Object(v.jsxs)("label",{className:b()(Object(j.a)({},it.a.textArea,!0),a),children:[t,Object(v.jsx)(ct.a,Object(f.a)({placeholder:n},o))]})},ut=Object(P.b)("comments/fetchAllPosts",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(ft(t)),e.abrupt("return",L(t));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),dt=Object(P.c)({name:"comments",initialState:{loadedComments:[],currentPostId:-1,status:"idle"},reducers:{setCurrentPostId:function(e,t){e.currentPostId=t.payload}},extraReducers:function(e){e.addCase(ut.pending,(function(e){e.status="loading",e.loadedComments=[]})).addCase(ut.fulfilled,(function(e,t){e.status="idle",e.loadedComments=t.payload})).addCase(ut.rejected,(function(e){e.status="failed"}))}}),pt=dt.reducer,ft=dt.actions.setCurrentPostId,jt=Object(P.a)({reducer:{posts:te,openedPost:We,profile:fe,comments:pt,localization:E}}),_t=function(e,t){"string"===typeof e&&(e=new Date(e.replace(/-/g,"/")).getTime()/1e3),t=t||Date.now()/1e3;var n=Math.abs(t-e);if(n<60)return{key:"date_now"};if(n<3600){var a=Math.floor(n/60);return{key:"date_minutes",count:a,replaces:{count:a.toString()}}}if(n<86400){var o=Math.floor(n/3600);return{key:"date_hours",count:o,replaces:{count:o.toString()}}}return{key:"date_date",replaces:{date:new Date(1e3*e).toLocaleDateString(T(jt.getState()),{year:"numeric",month:"long",day:"2-digit"})}}},mt=function(e){var t=e.split("\n").map((function(e,t){return[e,Object(v.jsx)("br",{},t)]})).flat(1);return t.pop(),t},bt=n(39),ht=n.n(bt),Ot=function(e){var t=e.avatarSize,n=void 0===t?"2.5rem":t,a=e.comment,o=e.className,r=we();return Object(v.jsxs)("div",{className:b()([ht.a.comment,o]),children:[Object(v.jsx)(Re,{url:a.commenter.profile_photo_url,size:n}),Object(v.jsxs)("div",{className:ht.a.column,children:[Object(v.jsx)("div",{className:ht.a.name,children:"".concat(a.commenter.first_name||""," ").concat(a.commenter.last_name||"")}),Object(v.jsx)("div",{className:ht.a.message,children:mt(a.message)}),Object(v.jsx)("div",{className:ht.a.time,children:r(_t(a.created_at))})]})]})};function vt(e){navigator.clipboard?navigator.clipboard.writeText(e):function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(n){console.error("Failed to copy text to clipboard!",n)}document.body.removeChild(t)}(e)}var xt=n(15),gt=n.n(xt),Nt=function(e){var t=e.post,n=e.onImageClicked,a=we(),o=Object(d.g)(),r=ve(),c=xe(be),s=ge();return Object(v.jsxs)("div",{className:gt.a.post,children:[Object(v.jsxs)("div",{className:gt.a.header,children:[Object(v.jsx)(Re,{url:t.author.profile_photo_url,size:"2.5em",to:"/profile/".concat(t.author.username)}),Object(v.jsxs)("div",{className:gt.a.info,children:[Object(v.jsx)("div",{className:gt.a.name,children:"".concat(t.author.first_name||""," ").concat(t.author.last_name||"")}),Object(v.jsx)("div",{className:gt.a.time,children:a(_t(t.created_at))})]}),Object(v.jsx)("div",{className:gt.a.more,onClick:function(){(null===c||void 0===c?void 0:c.username)===t.author.username&&r(Q(t.id))},children:Object(v.jsx)("i",{className:"icon icon-more"})})]}),Object(v.jsxs)("div",{className:gt.a.content,children:[!!t.photos.length&&Object(v.jsx)("div",{className:gt.a.square,children:Object(v.jsx)("img",{src:t.photos[0].url,className:gt.a.image,alt:"Post content",onClick:n})}),t.description&&Object(v.jsx)("div",{className:gt.a.description,children:mt(t.description)})]}),Object(v.jsxs)("div",{className:gt.a.footer,children:[Object(v.jsx)(nt,{className:gt.a.iconButton,icon:"like",text:t.likes_count.toString(),checked:t.is_liked,onClick:function(){return s((function(){return r(t.is_liked?K(t.id):Z(t.id))}))}}),Object(v.jsx)(nt,{className:gt.a.iconButton,icon:"comments",text:"0",onClick:function(){return o.push("/".concat(t.id))}}),Object(v.jsx)("div",{className:gt.a.separator}),Object(v.jsxs)("div",{className:gt.a.share,onClick:function(){return vt("https://zubiden.github.io/linkstagram#/"+t.id)},children:[a("post_share")," ",Object(v.jsx)("i",{className:"icon icon-arrow"})]})]})]})},wt=n(12),kt=n.n(wt),Pt=function(e){var t=e.postId,n=void 0===t?-1:t,o=e.opened,r=void 0!==o&&o,c=e.onRequestClose,s=we(),i=ve();Ne();var l,u=xe(Ze),d=xe(ce),p=xe(Ke);return Object(a.useEffect)((function(){i(n>=0?Me(n):Xe())}),[i,n]),l=u?Qe()?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:kt.a.slider,children:[Object(v.jsx)("svg",{viewBox:"0 0 1 1"})," ",Object(v.jsx)("div",{className:kt.a.squareContent,children:u.photos.length?Object(v.jsx)("img",{src:u.photos[0].url,alt:"Post"}):Object(v.jsx)("div",{className:kt.a.noImage,children:s("post_no_images")})})]}),Object(v.jsxs)("div",{className:kt.a.data,children:[Object(v.jsxs)("div",{className:kt.a.header,children:[Object(v.jsx)(Re,{className:kt.a.avatar,url:u.author.profile_photo_url,size:"3rem"}),Object(v.jsx)("div",{className:kt.a.name,children:"".concat(u.author.first_name||""," ").concat(u.author.last_name||"")}),Object(v.jsx)("div",{className:kt.a.separator}),Object(v.jsx)("i",{className:"icon icon-cross ".concat(kt.a.close),onClick:c})]}),Object(v.jsx)(Ct,{post:u,comments:p,likes:!0,padding:!0})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Le,{back:!0,onBackClick:c}),Object(v.jsx)(Nt,{post:u}),Object(v.jsx)(Ct,{post:u,comments:p})]}):s("loading"===d?"general_loading":"general_error_loading"),Object(v.jsx)(rt,{isOpen:r,className:kt.a.modalPost,onRequestClose:c,tabletExpand:!0,children:l})},Ct=function(e){var t,n=e.comments,o=e.post,r=e.likes,c=void 0!==r&&r,s=e.padding,i=void 0!==s&&s,l=we(),u=ve(),d=Object(a.useState)(""),f=Object(p.a)(d,2),_=f[0],m=f[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:b()((t={},Object(j.a)(t,kt.a.comments,!0),Object(j.a)(t,kt.a.padding,i),t)),children:n.length?n.map((function(e){return Object(v.jsx)(Ot,{avatarSize:"3rem",className:kt.a.comment,comment:e},e.id)})):l("post_no_comments")}),c&&Object(v.jsx)("div",{className:kt.a.buttons,children:Object(v.jsx)(nt,{icon:"like",text:o.likes_count.toString(),className:kt.a.like,checked:o.is_liked,onClick:function(){return o.is_liked?u(Je()):u(De())}})}),Object(v.jsxs)("div",{className:kt.a.newComment,children:[Object(v.jsx)(lt,{minRows:1,className:kt.a.input,placeholder:l("post_add_comment"),value:_,onChange:function(e){return m(e.currentTarget.value)}}),Object(v.jsx)("button",{className:kt.a.post,onClick:function(){u(Ue({post_id:o.id,message:_})),m("")},children:l("post_post_comment")})]})]})},yt=n(40),St=n.n(yt),It=function(e){var t=e.username,n=ve(),o=we();Object(a.useEffect)((function(){n(G(t))}),[t,n]);var r,c=Object(a.useState)(-1),s=Object(p.a)(c,2),i=s[0],u=s[1],d=Object(l.c)(re),f=Object(l.c)(ce);return r="idle"===f?d.length?d.map((function(e){return Object(v.jsx)(Nt,{post:e,onImageClicked:function(){u(e.id)}},e.id)})):Object(v.jsx)("div",{className:St.a.text,children:o("feed_no_posts")}):"loading"===f?Object(v.jsx)("div",{className:St.a.text,children:o("general_loading")}):Object(v.jsx)("div",{className:St.a.text,children:o("general_error_loading")}),Object(v.jsxs)("div",{className:St.a.feed,children:[Object(v.jsx)("div",{className:St.a.postList,children:r}),Object(v.jsx)(Pt,{opened:i>=0,postId:i,onRequestClose:function(){return u(-1)}})]})},Et=n(123),Bt=n.n(Et),Tt=n(76),qt=n.n(Tt),Ft=function(){var e=qt()({restrictions:{maxNumberOfFiles:1,allowedFileTypes:["image/png","image/jpg","image/jpeg"],maxFileSize:5242880}});return e.use(Bt.a,{companionUrl:R}),e},Rt=function(e,t){return e.addFile({name:t.name,type:t.type,data:t,source:"Local"})},zt=function(e){return e.map((function(e){var t=e.meta.key.split("/"),n=Object(p.a)(t,2),a=n[0];return{id:n[1],storage:a,metadata:{filename:e.meta.name,size:e.data.size,mime_type:e.data.type}}}))},At=n(80),Lt=n.n(At),Mt=function(e){var t=e.uppy,n=e.accept,o=void 0===n?[]:n,r=e.text,c=e.defaultPreviewUrl,s=e.className,i=Object(a.useRef)(null),l=Object(a.useState)([]),u=Object(p.a)(l,2),d=u[0],f=u[1];Object(a.useEffect)((function(){t.getFiles().forEach((function(e){return t.removeFile(e.id)})),d.forEach((function(e){return Rt(t,e)}))}),[d,t]);var _=function(e){e.preventDefault(),e.stopPropagation()};return Object(v.jsxs)("div",{className:b()(Object(j.a)({},Lt.a.file,!0),s),onClick:function(){var e;return null===(e=i.current)||void 0===e?void 0:e.click()},onDragOver:_,onDragEnter:_,onDragLeave:_,onDrop:function(e){e.preventDefault(),f(Array.from(e.dataTransfer.files))},children:[Object(v.jsx)("div",{className:Lt.a.preview,children:d.length?d.map((function(e){return Object(v.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview"})})):c?Object(v.jsx)("img",{src:c,alt:"Preview"}):r}),Object(v.jsx)("input",{type:"file",accept:o.join(","),ref:i,hidden:!0,onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&f(Array.from(e.target.files))}})]})},Ht=n(51),Ut=n.n(Ht),Dt=Ft(),Jt=function(e){var t=e.opened,n=void 0!==t&&t,o=e.onRequestClose,r=we(),c=ve(),s=Object(a.useState)(""),i=Object(p.a)(s,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){n||u("")}),[n]),Object(v.jsxs)(rt,{className:Ut.a.newPost,isOpen:n,onRequestClose:o,children:[Object(v.jsx)(Mt,{text:r("post_new_file"),className:Ut.a.input,uppy:Dt}),Object(v.jsx)(lt,{className:Ut.a.description,minRows:5,placeholder:r("post_new_description_placeholder"),label:r("post_new_description"),onChange:function(e){return u(e.currentTarget.value)},value:l}),Object(v.jsxs)("div",{className:Ut.a.buttons,children:[Object(v.jsx)(x,{lightBorder:!0,onClick:o,children:r("general_cancel")}),Object(v.jsx)(x,{color:"blue",onClick:function(){var e=Object(k.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt.upload();case 2:(n=e.sent).successful.length?(a=zt(n.successful),c($({description:l,photos_attributes:a.map((function(e){return{image:e}}))})),null===o||void 0===o||o(t)):0===n.successful.length&&0===n.failed.length&&l&&(c($({description:l,photos_attributes:[]})),null===o||void 0===o||o(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:r("post_new_post")})]})]})},Vt=n(124),Wt=n.n(Vt),Yt=function(e){var t=e.label,n=e.placeholder,a=(e.icon,e.iconColor,e.className),o=Object(_.a)(e,["label","placeholder","icon","iconColor","className"]);return Object(v.jsxs)("label",{className:b()(Object(j.a)({},Wt.a.input,!0),a),children:[t,Object(v.jsx)("input",Object(f.a)({placeholder:n},o))]})},Gt=n(14),Xt=n.n(Gt),Zt=Ft(),Kt=function(e){var t=e.opened,n=void 0!==t&&t,o=e.onRequestClose,r=we(),c=ve(),s=xe(be),i=Object(a.useState)(null===s||void 0===s?void 0:s.first_name),l=Object(p.a)(i,2),u=l[0],d=l[1],j=Object(a.useState)(null===s||void 0===s?void 0:s.last_name),_=Object(p.a)(j,2),m=_[0],h=_[1],O=Object(a.useState)(null===s||void 0===s?void 0:s.job_title),g=Object(p.a)(O,2),N=g[0],P=g[1],C=Object(a.useState)(null===s||void 0===s?void 0:s.description),y=Object(p.a)(C,2),S=y[0],I=y[1];return s?Object(v.jsxs)(rt,{className:Xt.a.profileEdit,isOpen:n,onRequestClose:o,children:[Object(v.jsxs)("div",{className:Xt.a.header,children:[Object(v.jsx)("div",{className:Xt.a.title,children:r("profile_edit_title")}),Object(v.jsx)("div",{className:Xt.a.logout,onClick:function(e){c(de()),null===o||void 0===o||o(e)},children:r("general_logout")})]}),Object(v.jsxs)("div",{className:Xt.a.topBlock,children:[Object(v.jsxs)("div",{className:Xt.a.avatarWrapper,children:[Object(v.jsx)(Mt,{className:Xt.a.avatar,uppy:Zt,defaultPreviewUrl:s.profile_photo_url}),Object(v.jsx)("div",{className:Xt.a.avatarText,children:r("profile_edit_photo")})]}),Object(v.jsxs)("div",{className:Xt.a.name,children:[Object(v.jsx)(Yt,{className:Xt.a.input,label:r("profile_edit_first_name"),placeholder:r("profile_edit_first_name_placeholder"),value:u,onChange:function(e){return d(e.currentTarget.value)}}),Object(v.jsx)(Yt,{className:Xt.a.input,label:r("profile_edit_second_name"),placeholder:r("profile_edit_second_name_placeholder"),value:m,onChange:function(e){return h(e.currentTarget.value)}})]})]}),Object(v.jsx)(Yt,{className:Xt.a.input,label:r("profile_edit_job_title"),placeholder:r("profile_edit_job_title_placeholder"),value:N,onChange:function(e){return P(e.currentTarget.value)}}),Object(v.jsx)(lt,{className:b()(Xt.a.input,Xt.a.description),label:r("profile_edit_description"),placeholder:r("profile_edit_description_placeholder"),value:S,onChange:function(e){return I(e.currentTarget.value)}}),Object(v.jsxs)("div",{className:Xt.a.buttons,children:[Object(v.jsx)(x,{lightBorder:!0,onClick:o,children:r("general_cancel")}),Object(v.jsx)(x,{color:"blue",onClick:function(){var e=Object(k.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object(f.a)({},s)).first_name=u,n.last_name=m,n.job_title=N,n.description=S,!Zt.getFiles().length){e.next=10;break}return e.next=8,Zt.upload();case 8:(a=e.sent).successful.length&&(n.profile_photo=zt(a.successful)[0]);case 10:c(ue(n)),null===o||void 0===o||o(t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:r("general_save")})]})]}):Object(v.jsx)(rt,{className:Xt.a.profileEdit,isOpen:n,onRequestClose:o,children:"NO ACCOUNT!!!"})},Qt=n(7),$t=n.n(Qt),en=function(e){var t=e.profile,n=e.own,o=void 0!==n&&n,r=e.horizontal,c=void 0!==r&&r,s=we(),i=ge(),l=Object(a.useState)(!1),u=Object(p.a)(l,2),d=u[0],f=u[1],j=Object(a.useState)(!1),_=Object(p.a)(j,2),m=_[0],h=_[1],O="".concat(t.first_name||""," ").concat(t.last_name||"");return c?Object(v.jsxs)("div",{className:b()([$t.a.profileInfo,$t.a.horizontal]),children:[Object(v.jsx)(Re,{url:t.profile_photo_url,border:!0,size:"7.25em"}),Object(v.jsxs)("div",{className:$t.a.info,children:[Object(v.jsx)("div",{className:$t.a.name,children:O}),Object(v.jsx)("div",{className:$t.a.job,children:t.job_title||""}),Object(v.jsx)("div",{className:$t.a.description,children:mt(t.description||"")})]}),Object(v.jsx)("div",{className:$t.a.separator}),Object(v.jsxs)("div",{className:$t.a.right,children:[Object(v.jsxs)("div",{className:$t.a.social,children:[Object(v.jsxs)("div",{className:$t.a.followers,children:[Object(v.jsx)("div",{className:$t.a.number,children:t.followers}),Object(v.jsx)("div",{className:$t.a.smallText,children:s("profile_followers",{},t.followers)})]}),Object(v.jsxs)("div",{className:$t.a.following,children:[Object(v.jsx)("div",{className:$t.a.number,children:t.following}),Object(v.jsx)("div",{className:$t.a.smallText,children:s("profile_following")})]})]}),o&&Object(v.jsxs)("div",{className:$t.a.actionButtons,children:[Object(v.jsx)(x,{smallPadding:!0,lightBorder:!0,onClick:function(){return i((function(){return h(!0)}))},children:s("profile_edit")}),Object(v.jsx)(x,{smallPadding:!0,color:"blue",onClick:function(){return i((function(){return f(!0)}))},children:s("post_new")})]})]}),Object(v.jsx)(Jt,{opened:d,onRequestClose:function(){return f(!1)}}),Object(v.jsx)(Kt,{opened:m,onRequestClose:function(){return h(!1)}})]}):Object(v.jsxs)("div",{className:$t.a.profileInfo,children:[Object(v.jsxs)("div",{className:$t.a.top,children:[Object(v.jsxs)("div",{className:$t.a.followers,children:[Object(v.jsx)("div",{className:$t.a.number,children:t.followers}),Object(v.jsx)("div",{className:$t.a.smallText,children:s("profile_followers",{},t.followers)})]}),Object(v.jsx)(Re,{url:t.profile_photo_url,border:!0,size:"5em"}),Object(v.jsxs)("div",{className:$t.a.following,children:[Object(v.jsx)("div",{className:$t.a.number,children:t.following}),Object(v.jsx)("div",{className:$t.a.smallText,children:s("profile_following")})]})]}),Object(v.jsxs)("div",{className:$t.a.bottom,children:[Object(v.jsxs)("div",{className:$t.a.info,children:[O," ",t.job_title?"- ".concat(t.job_title||""):""]}),Object(v.jsx)("div",{className:$t.a.description,children:mt(t.description||"")}),o&&Object(v.jsxs)("div",{className:$t.a.actionButtons,children:[Object(v.jsx)(x,{smallPadding:!0,onClick:function(){return i((function(){return h(!0)}))},children:s("profile_edit")}),Object(v.jsx)(x,{smallPadding:!0,color:"blue",onClick:function(){return i((function(){return f(!0)}))},children:s("post_new")})]})]}),Object(v.jsx)(Jt,{opened:d,onRequestClose:function(){return f(!1)}}),Object(v.jsx)(Kt,{opened:m,onRequestClose:function(){return h(!1)}})]})},tn=n(125),nn=n.n(tn),an=function(){var e=ve();Object(a.useEffect)((function(){e(ie())}),[e]);var t=xe(me);return Object(v.jsx)("div",{className:nn.a.slider,children:t.filter((function(e){return e.profile_photo_url})).map((function(e){return Object(v.jsx)(Re,{url:e.profile_photo_url,size:"4em",to:"/profile/".concat(e.username),border:!0},e.username)}))})},on=n(41),rn=n.n(on),cn=function(){var e=we(),t=Object(d.g)(),n=Object(d.h)().id,o=Object(a.useState)(!1),r=Object(p.a)(o,2),c=r[0],s=r[1],i=xe(he),l=xe(be);return Object(a.useEffect)((function(){Number.parseInt(n)?s(!0):s(!1)}),[n]),Object(v.jsxs)("div",{className:rn.a.home,children:[Object(v.jsx)(Le,{profile:!0,login:!0}),Object(v.jsxs)("div",{className:rn.a.content,children:[Object(v.jsxs)("div",{className:rn.a.left,children:[Object(v.jsx)(an,{}),Object(v.jsx)(It,{})]}),Object(v.jsx)("div",{className:rn.a.right,children:Object(v.jsxs)("div",{className:rn.a.sticky,children:[i?Object(v.jsx)(en,{profile:l,own:!0}):Object(v.jsx)(x,{color:"black",to:"/login",children:e("general_login")}),Object(v.jsx)(Ie,{})]})})]}),Object(v.jsx)(Pt,{opened:c,postId:Number.parseInt(n)||-1,onRequestClose:function(){return t.push("/")}})]})},sn=n(42),ln=n(43),un=n(23),dn=n.n(un),pn=function(e){var t=e.signUp,n=void 0!==t&&t,a=we();return Object(v.jsx)(x,{className:dn.a.button,color:"blue",type:"submit",children:a(n?"login_sign_up_button":"login_login_button")})},fn=function(e){var t=e.field,n=e.form,a=n.touched,o=n.errors,r=n.setFieldValue,c=n.values,s=Object(_.a)(e,["field","form"]);return Object(v.jsxs)("div",{className:dn.a.input,children:[Object(v.jsx)(Yt,Object(f.a)({onChange:function(e){return r(t.name,e.currentTarget.value)},name:t.name,value:c[t.name]},s)),a[t.name]&&o[t.name]&&Object(v.jsx)("div",{className:dn.a.error,children:o[t.name]})]})},jn=function(){var e=we(),t=ve(),n=xe(he),o=Object(a.useState)(!1),r=Object(p.a)(o,2),c=r[0],s=r[1],i=ln.a().shape({email:ln.b().email(e("login_validation_email_invalid")).required(e("login_validation_required")),username:c?ln.b().min(3,e("login_validation_min_length",{count:"3"},3)).max(20,e("login_validation_max_length",{count:"20"},20)).matches(/^[a-zA-Z0-9._-]*$/,"Use alphabet, numbers and _ -").test("isTaken",e("login_validation_username_taken"),(function(e){return!e||new Promise((function(t,n){W(e).then((function(e){t(!1)})).catch((function(){t(!0)}))}))})).required(e("login_validation_required")):ln.b(),password:ln.b().min(6,e("login_validation_min_length",{count:"6"},6)).required(e("login_validation_required"))});return n?Object(v.jsx)(d.a,{to:"/"}):Object(v.jsxs)("div",{className:dn.a.login,children:[Object(v.jsx)(Le,{}),Object(v.jsxs)("div",{className:dn.a.content,children:[Object(v.jsx)("div",{className:dn.a.presentation,children:"Photos go wroom"}),Object(v.jsxs)("div",{className:dn.a.authPane,children:[Object(v.jsx)("div",{className:dn.a.title,children:e(c?"login_sign_up":"login_login")}),Object(v.jsx)(sn.c,{initialValues:{email:"",username:"",password:""},onSubmit:function(){var e=Object(k.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c?(a={login:n.email,password:n.password,username:n.username},fetch("".concat(R,"/create-account"),{method:"POST",body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){var t=e.headers.get("authorization");return t?localStorage.setItem("auth",t):localStorage.removeItem("auth"),e.json()}))).then((function(){return t(le())})):z({login:n.email,password:n.password}).then((function(){return t(le())}));case 1:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:i,children:Object(v.jsxs)(sn.b,{children:[Object(v.jsx)(sn.a,{name:"email",type:"email",component:fn,label:e("login_field_email_label"),placeholder:e("login_field_email_placeholder")}),c&&Object(v.jsx)(sn.a,{name:"username",component:fn,label:e("login_field_username_label"),placeholder:e("login_field_username_placeholder")}),Object(v.jsx)(sn.a,{name:"password",component:fn,type:"password",label:e("login_field_password_label"),placeholder:e("login_field_password_placeholder")}),Object(v.jsx)("div",{className:dn.a.mobileSeparator}),Qe()&&Object(v.jsx)(pn,{signUp:c}),Object(v.jsxs)("div",{className:dn.a.switch,children:[e(c?"login_have_account":"login_no_account"),Object(v.jsx)("span",{className:dn.a.inlineSwitch,onClick:function(){return s(!c)},children:e(c?"login_login":"login_sign_up")})]}),!Qe()&&Object(v.jsx)(pn,{signUp:c})]})})]})]})]})},_n=n(64),mn=n.n(_n),bn=function(e){var t=e.username,n=ve(),o=we();Object(a.useEffect)((function(){n(G(t))}),[t,n]);var r,c=Object(a.useState)(-1),s=Object(p.a)(c,2),i=s[0],u=s[1],d=Object(l.c)(re),f=Object(l.c)(ce);return r="idle"===f?d.length?d.map((function(e){return e.photos.map((function(t){return Object(v.jsx)(hn,{url:t.url,onClick:function(){return u(e.id)}},t.id)}))})).flat(1):Object(v.jsx)("div",{className:mn.a.text,children:o("feed_no_posts")}):o("loading"===f?"general_loading":"general_error_loading"),Object(v.jsxs)("div",{className:mn.a.photoFeed,children:[r,Object(v.jsx)(Pt,{opened:i>=0,postId:i,onRequestClose:function(){return u(-1)}})]})},hn=function(e){var t=e.url,n=e.onClick;return Object(v.jsx)("div",{className:mn.a.square,onClick:n,style:{backgroundImage:"url(".concat(t,")")}})},On=n(82),vn=n.n(On),xn=function(){var e=Object(d.h)().username,t=xe(be);Ne();var n=Object(a.useState)(null),o=Object(p.a)(n,2),r=o[0],c=o[1],s=Object(a.useState)(""),i=Object(p.a)(s,2),l=i[0],u=i[1];if(Object(a.useEffect)((function(){e?r&&r.username===e||W(e).then((function(e){return c(e)})).catch((function(e){return u("Failed to get profile")})):c(t)}),[e,t,r]),!e&&!localStorage.getItem("auth"))return Object(v.jsx)(d.a,{to:"/login"});var f=!!r&&(null===t||void 0===t?void 0:t.username)===r.username;return Object(v.jsxs)("div",{className:vn.a.ownProfile,children:[Object(v.jsx)(Le,{home:!0,profile:!f}),Object(v.jsx)("div",{className:vn.a.content,children:l||(r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(en,{profile:r,own:f,horizontal:Qe()}),Object(v.jsx)(bn,{username:r.username})]}):"Failed to load profile")})]})};var gn=function(){var e,t=ve(),n=xe(T);return e=function(){t(S(n)),localStorage.getItem("auth")&&t(le())},Object(a.useEffect)(e,[]),Object(v.jsx)(u.a,{children:Object(v.jsxs)(d.d,{children:[Object(v.jsx)(d.b,{exact:!0,path:"/login",children:Object(v.jsx)(jn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/profile/:username",children:Object(v.jsx)(xn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/profile",children:Object(v.jsx)(xn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/:id",children:Object(v.jsx)(cn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/",children:Object(v.jsx)(cn,{})}),Object(v.jsx)(d.b,{children:Object(v.jsx)(d.a,{to:"/"})})]})})};n(282),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Nn(){var e=$e?window.visualViewport.height:window.innerHeight;document.documentElement.style.setProperty("--vh100","".concat(e-1,"px"))}c.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(l.a,{store:jt,children:Object(v.jsx)(gn,{})})}),document.getElementById("app")),i.a.setAppElement("#app"),Nn(),window.addEventListener("resize",(function(){Nn()})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,t,n){e.exports={button:"Button_button__Iv7O1",square:"Button_square__24Qg9",smallPadding:"Button_smallPadding__1s_AW",white:"Button_white__E8Wbq",blue:"Button_blue__1Yy1O",black:"Button_black__obrtp",lightBorder:"Button_lightBorder__pQOr6"}},38:function(e,t,n){e.exports={square:"Avatar_square__BGVCN",clickable:"Avatar_clickable__9RUE4",border:"Avatar_border__1fx0F",visible:"Avatar_visible__2JtjS",avatar:"Avatar_avatar__JOSFH"}},39:function(e,t,n){e.exports={comment:"Comment_comment__1oC7d",column:"Comment_column__3_p8X",name:"Comment_name__1yMvS",message:"Comment_message__ZB4Zo",time:"Comment_time__U8Dri"}},40:function(e,t,n){e.exports={feed:"Feed_feed__3hto0"}},41:function(e,t,n){e.exports={home:"Home_home__8bgC6",content:"Home_content__3Qx40",left:"Home_left__2wJ4m",right:"Home_right__3Vd87",sticky:"Home_sticky__2N9Pd"}},50:function(e,t,n){e.exports={footer:"Footer_footer__miWNG",buttonRow:"Footer_buttonRow__eb9fI",greyButton:"Footer_greyButton__1OzgT"}},51:function(e,t,n){e.exports={newPost:"NewPost_newPost__2t2ka",input:"NewPost_input__O7B-h",description:"NewPost_description__1_5So",buttons:"NewPost_buttons__2rXn9"}},63:function(e,t,n){e.exports={overlay:"Modal_overlay__pTwNa",modal:"Modal_modal__16s7U",tabletExpand:"Modal_tabletExpand__3DpAd"}},64:function(e,t,n){e.exports={photoFeed:"PhotoFeed_photoFeed__1hn3a",square:"PhotoFeed_square__1VW1n"}},7:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__cLKJa",top:"ProfileInfo_top__3o043",followers:"ProfileInfo_followers__2Nu_-",following:"ProfileInfo_following__2ttTb",number:"ProfileInfo_number__Lj_2R",smallText:"ProfileInfo_smallText__XuTrR",bottom:"ProfileInfo_bottom__1S_qc",info:"ProfileInfo_info__3zEMb",description:"ProfileInfo_description__1hzwZ",actionButtons:"ProfileInfo_actionButtons__1207A",horizontal:"ProfileInfo_horizontal__1TlCv",name:"ProfileInfo_name__2Nwq-",job:"ProfileInfo_job__b60_r",separator:"ProfileInfo_separator__2VEdK",right:"ProfileInfo_right__1dEse",social:"ProfileInfo_social__17pXh"}},80:function(e,t,n){e.exports={file:"ImageInput_file__2jY1F",preview:"ImageInput_preview__3egAg"}},82:function(e,t,n){e.exports={ownProfile:"Profile_ownProfile__2Inxr",content:"Profile_content__1JwYV"}}},[[283,1,2]]]);
//# sourceMappingURL=main.a686f2ea.chunk.js.map