(this.webpackJsonplinkstagram=this.webpackJsonplinkstagram||[]).push([[0],{12:function(e,t,n){e.exports={slider:"Slider_slider__3A2az",roundBorders:"Slider_roundBorders__N0UNE",button:"Slider_button__17i9F",right:"Slider_right__3IBug",left:"Slider_left__1VHjc",square:"Slider_square__2pq5e",image:"Slider_image__29c0_",big:"Slider_big__2_H5F",prev:"Slider_prev__M5K3f",next:"Slider_next__3jrG6",current:"Slider_current__2MgGL",padded:"Slider_padded__38C8D",secondPrev:"Slider_secondPrev__3KNld",secondNext:"Slider_secondNext__3sPlE",position:"Slider_position__3QVNm",point:"Slider_point__15Pih"}},124:function(e,t,n){e.exports={iconButton:"IconButton_iconButton__1icvX"}},125:function(e,t,n){e.exports={textArea:"TextArea_textArea__2zwX3"}},127:function(e,t,n){e.exports={input:"Input_input__3EuCO"}},13:function(e,t,n){e.exports={modalPost:"ModalPost_modalPost__1L6RD",slider:"ModalPost_slider__gPdCv",noImages:"ModalPost_noImages__ax5Gw",data:"ModalPost_data__2zYZ2",header:"ModalPost_header__3ZVGN",avatar:"ModalPost_avatar__tcw-M",name:"ModalPost_name__n-uyA",separator:"ModalPost_separator__YWCJ7",close:"ModalPost_close__2Vn61",buttons:"ModalPost_buttons__3--uR",like:"ModalPost_like__3KuAn",comments:"ModalPost_comments__1y2kU",padding:"ModalPost_padding__19rl7",comment:"ModalPost_comment__1_-Yh",newComment:"ModalPost_newComment__1i5qe",input:"ModalPost_input__1PuuI",post:"ModalPost_post__2sug1"}},15:function(e,t,n){e.exports={profileEdit:"ProfileEdit_profileEdit__iDLMl",header:"ProfileEdit_header__3Idmi",title:"ProfileEdit_title__2TGIH",logout:"ProfileEdit_logout__2m76b",topBlock:"ProfileEdit_topBlock__ETWyG",avatarWrapper:"ProfileEdit_avatarWrapper__1XsL3",avatar:"ProfileEdit_avatar__1SRbI",avatarText:"ProfileEdit_avatarText__2toBy",name:"ProfileEdit_name__2mX0L",input:"ProfileEdit_input__L2H48",description:"ProfileEdit_description__3JWjj",buttons:"ProfileEdit_buttons__1p7ap"}},17:function(e,t,n){e.exports={post:"Post_post__1te52",header:"Post_header__3Gzyc",info:"Post_info__Xy-Np",name:"Post_name__3CpU5",time:"Post_time__3_nO7",more:"Post_more__14-xe",content:"Post_content__22_-o",description:"Post_description__3kjSL",footer:"Post_footer__3xwoU",iconButton:"Post_iconButton__3cLRW",separator:"Post_separator__1SbIb",share:"Post_share__287j5",danger:"Post_danger__2HN30"}},21:function(e,t,n){e.exports={header:"Header_header__1fCsm",logo:"Header_logo__2gAbO",back:"Header_back__1F8AG",separator:"Header_separator__wmxr4",button:"Header_button__1JOra",dropdown:"Header_dropdown__39YJG",control:"Header_control__tUaTp",placeholder:"Header_placeholder__20Sp9",menu:"Header_menu__1bgN5",option:"Header_option__1oXVO",reserver:"Header_reserver__iHJu7"}},24:function(e,t,n){e.exports={login:"Login_login__ouCTB",content:"Login_content__3YGvZ",presentation:"Login_presentation__145vV",authPane:"Login_authPane__IHzBx",title:"Login_title__3VCx7",input:"Login_input__2gh-1",button:"Login_button__2Vpm8",error:"Login_error__3SyBg",mobileSeparator:"Login_mobileSeparator___RmK7",switch:"Login_switch__4MshC",inlineSwitch:"Login_inlineSwitch__1ywMx"}},285:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(48),c=n.n(r),s=n(61),i=n.n(s),l=n(26),u=n(25),d=n(9),j=n(4),p=n(14),_=n(3),f=n(22),b=n(5),m=n.n(b),h=n(38),O=n.n(h),v=n(0),x=function(e){var t,n=e.color,a=void 0===n?"white":n,o=e.lightBorder,r=void 0!==o&&o,c=e.square,s=void 0!==c&&c,i=e.to,l=e.className,u=e.children,j=e.smallPadding,b=void 0!==j&&j,h=e.onClick,x=Object(f.a)(e,["color","lightBorder","square","to","className","children","smallPadding","onClick"]),g=Object(d.g)();return Object(v.jsx)("button",Object(p.a)(Object(p.a)({className:m()((t={},Object(_.a)(t,O.a.button,!0),Object(_.a)(t,O.a[a],!0),Object(_.a)(t,O.a.square,s),Object(_.a)(t,O.a.lightBorder,r),Object(_.a)(t,O.a.smallPadding,b),t),l),onClick:function(e){null===h||void 0===h||h(e),i&&g.push(i)}},x),{},{children:u}))},g=n(82),N=n(2),w=n.n(N),k=n(6),C=n(8),P={uk:"UA",en:"EN"},S={strings:{},code:localStorage.getItem("langCode")||"en",status:"idle"},y=Object(C.b)("localization/setLanguage",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in P)){e.next=8;break}if(a=n.getState(),o=F(a),!Object.keys(o).length||t!==T(a)){e.next=5;break}return e.abrupt("return",o);case 5:return e.abrupt("return",fetch("".concat("language","/").concat(t,".json")).then((function(e){return e.json()})).then((function(e){var a={};for(var o in e)a[o]=e[o];return localStorage.setItem("langCode",t),n.dispatch(B(t)),a})));case 8:throw new Error("Not a valid language!");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(C.c)({name:"localization",initialState:S,reducers:{setLanguageCode:function(e,t){e.code=t.payload}},extraReducers:function(e){e.addCase(y.pending,(function(e){e.status="loading"})).addCase(y.fulfilled,(function(e,t){e.status="idle",e.strings=t.payload}))}}),E=I.reducer,B=I.actions.setLanguageCode,T=function(e){return e.localization.code},F=function(e){return e.localization.strings},q=n(16),A="https://linkstagram-api.ga",R=function(e){return fetch("".concat(A,"/login"),{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){var t=e.headers.get("authorization");return t?localStorage.setItem("auth",t):localStorage.removeItem("auth"),e.json()}))},z=function(e,t){return G("".concat(A,"/posts/").concat(e,"/comments"),"POST",{message:t})},L=function(e){return G("".concat(A,"/posts/").concat(e,"/comments"))},M=function(e){return G("".concat(A,"/posts/").concat(e,"/like"),"DELETE")},H=function(e){return G("".concat(A,"/posts/").concat(e,"/like"),"POST")},U=function(e){return G("".concat(A,"/posts/").concat(e))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return G("".concat(A,"/posts?page=").concat(e))},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return G("".concat(A,"/profiles/").concat(e,"/posts?page=").concat(t))},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return G("".concat(A,"/profiles?page=").concat(e))},W=function(e){return G("".concat(A,"/profiles/").concat(e))},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};a.headers=new Headers({"Content-Type":"application/json"}),n&&(a.body=JSON.stringify(n));var o=localStorage.getItem("auth");return o&&a.headers.set("Authorization","Bearer "+o),fetch(e,a).then((function(e){if(!e.ok)throw Error();return e.text()})).then((function(e){return 0===e.length?{}:JSON.parse(e)}))},Y=Object(C.b)("openedPost/openPost",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t).then((function(e){return n.dispatch(X(e.id)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),X=Object(C.b)("openedPost/loadComments",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),K=Object(C.b)("openedPost/leaveComment",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.post_id,o=t.message){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,z(a,o);case 5:n.dispatch(X(a));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(C.c)({name:"openedPost",initialState:{post:null,comments:[],postStatus:"idle",commentsStatus:"idle"},reducers:{closePost:function(e){e.post=null,e.comments=[]},setOpenedPost:function(e,t){e.post=t.payload,e.postStatus="idle"}},extraReducers:function(e){e.addCase(Y.pending,(function(e){e.postStatus="loading",e.post=null})).addCase(Y.fulfilled,(function(e,t){e.postStatus="idle",e.post=t.payload})).addCase(Y.rejected,(function(e){e.postStatus="failed"})).addCase(X.pending,(function(e){e.commentsStatus="loading",e.comments=[]})).addCase(X.fulfilled,(function(e,t){e.commentsStatus="idle",e.comments=t.payload})).addCase(X.rejected,(function(e){e.commentsStatus="failed"}))}}),Q=Z.reducer,$=Z.actions,ee=$.closePost,te=$.setOpenedPost,ne=function(e){return e.openedPost.post},ae=function(e){return e.openedPost.comments},oe=Object(C.b)("posts/fetchAllPosts",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o,r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.dispatch(pe(t||null)),a=!0,o=[],r=1,c=w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t?V(t,r):D(r);case 2:(n=e.sent).length&&!o.find((function(e){return e.id===n[0].id}))?o.push.apply(o,Object(q.a)(n)):a=!1,r++;case 5:case"end":return e.stop()}}),e)}));case 5:if(!a){e.next=9;break}return e.delegateYield(c(),"t0",7);case 7:e.next=5;break;case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),re=Object(C.b)("posts/fetchPost",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:return a=e.sent,(null===(o=ne(n.getState()))||void 0===o?void 0:o.id)===a.id&&n.dispatch(te(a)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ce=Object(C.b)("posts/like",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:n.dispatch(re(t));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),se=Object(C.b)("posts/dislike",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:n.dispatch(re(t));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ie=Object(C.b)("posts/delete",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,G("".concat(A,"/posts/").concat(a),"DELETE");case 2:n.dispatch(_e(t));case 3:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}()),le=Object(C.b)("posts/post",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,G("".concat(A,"/posts"),"POST",{post:a});case 2:n.dispatch(oe(me(n.getState())));case 3:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(C.c)({name:"posts",initialState:{loadedPosts:[],currentPostsUsername:null,status:"idle"},reducers:{setCurrentPostsUsername:function(e,t){e.currentPostsUsername=t.payload},removePost:function(e,t){e.loadedPosts=e.loadedPosts.filter((function(e){return e.id!==t.payload}))}},extraReducers:function(e){e.addCase(oe.pending,(function(e){e.status="loading",e.loadedPosts=[]})).addCase(oe.fulfilled,(function(e,t){e.status="idle",e.loadedPosts=t.payload})).addCase(oe.rejected,(function(e){e.status="failed"})).addCase(re.fulfilled,(function(e,t){var n=e.loadedPosts.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.loadedPosts[n]=t.payload)}))}}),de=ue.reducer,je=ue.actions,pe=je.setCurrentPostsUsername,_e=je.removePost,fe=function(e){return e.posts.loadedPosts},be=function(e){return e.posts.status},me=function(e){return e.posts.currentPostsUsername},he=Object(C.b)("profile/fetchAllProfiles",Object(k.a)(w.a.mark((function e(){var t,n,a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=[],a=1,o=w.a.mark((function e(){var o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(a);case 2:(o=e.sent).length&&!n.find((function(e){return e.username===o[0].username}))?n.push.apply(n,Object(q.a)(o)):t=!1,a++;case 5:case"end":return e.stop()}}),e)}));case 4:if(!t){e.next=8;break}return e.delegateYield(o(),"t0",6);case 6:e.next=4;break;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))),Oe=Object(C.b)("profile/fetchAccount",Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("".concat(A,"/account"));case 2:if(!ge(t=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),ve=Object(C.b)("profile/updateAccount",function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=t,G("".concat(A,"/account"),"PATCH",{account:o});case 2:if(!ge(a=e.sent)){e.next=7;break}throw Error("Failed to update account");case 7:return n.dispatch(oe(me(n.getState()))),e.abrupt("return",a);case 9:case"end":return e.stop()}var o}),e)})));return function(t,n){return e.apply(this,arguments)}}()),xe=Object(C.b)("profile/logount",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("auth"),n.dispatch(Ce()),n.dispatch(oe());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());function ge(e){return!!e.error}var Ne=Object(C.c)({name:"profile",initialState:{account:null,allProfiles:[],profilesFetchStatus:"idle",accountFetchStatus:"idle"},reducers:{clearCurrentAccount:function(e){e.account=null},resetAccountFetchStatus:function(e){e.accountFetchStatus="idle"}},extraReducers:function(e){e.addCase(he.pending,(function(e){e.profilesFetchStatus="loading"})).addCase(he.fulfilled,(function(e,t){e.profilesFetchStatus="idle",e.allProfiles=t.payload})).addCase(he.rejected,(function(e){e.profilesFetchStatus="failed",e.allProfiles=[]})).addCase(Oe.pending,(function(e){e.accountFetchStatus="loading"})).addCase(Oe.fulfilled,(function(e,t){e.accountFetchStatus="idle",e.account=t.payload})).addCase(Oe.rejected,(function(e){e.accountFetchStatus="failed",e.account=null})).addCase(ve.fulfilled,(function(e,t){e.account=t.payload}))}}),we=Ne.reducer,ke=Ne.actions,Ce=ke.clearCurrentAccount,Pe=(ke.resetAccountFetchStatus,function(e){return e.profile.allProfiles}),Se=function(e){return e.profile.account},ye=function(e){return!!e.profile.account},Ie=function(e){return"loading"===e.profile.accountFetchStatus},Ee=function(){return Object(l.b)()},Be=l.c,Te=function(){var e=Be(ye),t=Be(Ie),n=Object(d.g)();return function(a){t||(e?null===a||void 0===a||a():n.push("/login"))}},Fe=function(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(j.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){function e(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},qe=function(){var e=Be(F),t=Be(T);return function n(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NO_TRANSLATION_KEY_PROVIDED",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(Re(a))return n(a.key,a.replaces,a.count,a.defaultValue);var s=e[a];if(!s)return c||a;var i=a;for(var l in i=ze(s)?s[Ae(t,r)]||s.other:s,o){var u=o[l];i=i.replaceAll("{".concat(l,"}"),u)}return i}},Ae=function(e,t){return{uk:g.b,en:g.a}[e](t)},Re=function(e){return void 0===e.length},ze=function(e){return void 0===e.length},Le=n(50),Me=n.n(Le),He=function(){var e=qe();return Object(v.jsxs)("footer",{className:Me.a.footer,children:[Object(v.jsxs)("div",{className:Me.a.buttonRow,children:[Object(v.jsx)(Ue,{text:e("footer_about")}),Object(v.jsx)(Ue,{text:e("footer_help")}),Object(v.jsx)(Ue,{text:e("footer_privacy")}),Object(v.jsx)(Ue,{text:e("footer_terms")}),Object(v.jsx)(Ue,{text:e("footer_locations")}),Object(v.jsx)(Ue,{text:e("footer_language")})]}),Object(v.jsx)("div",{className:Me.a.buttonRow,children:Object(v.jsx)(Ue,{text:e("footer_copyright",{year:2021..toString()})})})]})},Ue=function(e){var t=e.text;return Object(v.jsx)("div",{className:Me.a.greyButton,children:t})},De=n(123),Ve=n.n(De),Je=n(39),We=n.n(Je),Ge=function(e){var t,n,a=e.url,o=e.size,r=void 0===o?"4em":o,c=e.border,s=void 0!==c&&c,i=e.clickable,l=e.to,u=e.className,j=e.onClick,b=Object(f.a)(e,["url","size","border","clickable","to","className","onClick"]);a=a||"images/placeholder.png",i=i||!!l||!!j;var h=Object(d.g)();return Object(v.jsx)("div",Object(p.a)(Object(p.a)({className:m()((t={},Object(_.a)(t,We.a.square,!0),Object(_.a)(t,We.a.clickable,i),t),u),style:{width:r},onClick:function(e){null===j||void 0===j||j(e),l&&h.push(l)}},b),{},{children:Object(v.jsx)("div",{className:m()((n={},Object(_.a)(n,We.a.border,!0),Object(_.a)(n,We.a.visible,s),n)),children:Object(v.jsx)("img",{src:a,className:We.a.avatar,alt:"Avatar"})})}))},Ye=n(21),Xe=n.n(Ye),Ke=function(e){var t=e.home,n=void 0!==t&&t,a=e.profile,o=void 0!==a&&a,r=e.login,c=void 0!==r&&r,s=e.back,i=void 0!==s&&s,l=e.onBackClick,d=Ee(),p=qe(),_=Be(ye),f=Be(Se),b=Be(T),m=Object.entries(P).map((function(e){var t=Object(j.a)(e,2);return{value:t[0],label:t[1],className:Xe.a.option}}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("header",{className:Xe.a.header,children:[i?Object(v.jsx)("i",{className:"icon icon-arrow ".concat(Xe.a.back),onClick:l}):Object(v.jsx)(u.b,{to:"/",className:Xe.a.logo,children:"Linkstagram"}),Object(v.jsx)("div",{className:Xe.a.separator}),n&&Object(v.jsx)(x,{color:"black",className:Xe.a.button,to:"/",children:p("header_home")}),Object(v.jsx)(Ve.a,{options:m,value:P[b],onChange:function(e){return d(y(e.value))},className:Xe.a.dropdown,controlClassName:Xe.a.control,placeholderClassName:Xe.a.placeholder,menuClassName:Xe.a.menu}),c&&!_&&Object(v.jsx)(x,{color:"black",className:Xe.a.button,to:"/login",children:p("general_login")}),o&&_&&Object(v.jsx)(Ge,{url:f.profile_photo_url,size:"2.5em",to:"/profile"})]}),Object(v.jsx)("div",{className:Xe.a.reserver})]})},Ze=function(){return window.innerWidth>=1014},Qe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),$e=n(124),et=n.n($e),tt=function(e){var t,n=e.icon,a=e.text,o=e.checkedColor,r=void 0===o?"red":o,c=e.checked,s=void 0!==c&&c,i=e.className,l=Object(f.a)(e,["icon","text","checkedColor","checked","className"]);return Object(v.jsxs)("button",Object(p.a)(Object(p.a)({className:m()(Object(_.a)({},et.a.iconButton,!0),i)},l),{},{children:[Object(v.jsx)("i",{className:m()((t={icon:!0},Object(_.a)(t,"icon-".concat(n),!0),Object(_.a)(t,r,s),t))}),Object(v.jsx)("span",{children:a})]}))},nt=n(65),at=n.n(nt),ot=function(e){var t,n=e.isOpen,a=e.onRequestClose,o=e.className,r=e.tabletExpand,c=void 0!==r&&r,s=e.children;return Object(v.jsx)(i.a,{className:m()((t={},Object(_.a)(t,at.a.modal,!0),Object(_.a)(t,at.a.tabletExpand,c),t),o),overlayClassName:at.a.overlay,isOpen:n,onRequestClose:a,children:s})},rt=n(133),ct=n(125),st=n.n(ct),it=function(e){var t=e.label,n=e.placeholder,a=e.className,o=Object(f.a)(e,["label","placeholder","className"]);return Object(v.jsxs)("label",{className:m()(Object(_.a)({},st.a.textArea,!0),a),children:[t,Object(v.jsx)(rt.a,Object(p.a)({placeholder:n},o))]})},lt=n(12),ut=n.n(lt),dt=function(e){var t,n,o,r,c=e.photos,s=e.sides,i=void 0!==s&&s,l=e.roundBorders,u=e.onCenterClick,d=e.className,p=Object(a.useState)(0),f=Object(j.a)(p,2),b=f[0],h=f[1],O=b===c.length-1?c[b-2]:null,x=b>0?c[b-1]:null,g=c[b],N=b<c.length-1?c[b+1]:null,w=0===b&&c.length>2?c[b+2]:null,k=!i||!x&&!N,C=function(e){e.stopPropagation(),h(Math.max(b-1,0))},P=function(e){e.stopPropagation(),h(Math.min(b+1,c.length-1))};return Object(a.useEffect)((function(){h(0)}),[c]),Object(v.jsxs)("div",{className:m()((t={},Object(_.a)(t,ut.a.slider,!0),Object(_.a)(t,ut.a.roundBorders,l),t),d),children:[Object(v.jsx)("svg",{viewBox:"0 0 1 ".concat(k?1:.8)}),i&&O&&Object(v.jsx)(_t,{photo:O,className:ut.a.secondPrev,onClick:C}),i&&x&&Object(v.jsx)(_t,{photo:x,className:m()((n={},Object(_.a)(n,ut.a.prev,!0),Object(_.a)(n,ut.a.padded,O),n)),onClick:C}),x&&Object(v.jsx)(pt,{direction:"left",onClick:C}),g&&Object(v.jsx)(_t,{photo:g,className:m()((o={},Object(_.a)(o,ut.a.current,!0),Object(_.a)(o,ut.a.left,w),Object(_.a)(o,ut.a.right,O),Object(_.a)(o,ut.a.big,k),o)),onClick:u}),N&&Object(v.jsx)(pt,{direction:"right",onClick:P}),i&&N&&Object(v.jsx)(_t,{photo:N,className:m()((r={},Object(_.a)(r,ut.a.next,!0),Object(_.a)(r,ut.a.padded,w),r)),onClick:P}),i&&w&&Object(v.jsx)(_t,{photo:w,className:ut.a.secondNext,onClick:P}),!i&&c.length>1&&Object(v.jsx)("div",{className:ut.a.position,children:new Array(c.length).fill(null).map((function(e,t){return Object(v.jsx)(jt,{current:t===b,onClick:function(e){e.stopPropagation(),h(t)}})}))})]})},jt=function(e){var t,n=e.current,a=e.onClick;return Object(v.jsx)("div",{className:m()((t={},Object(_.a)(t,ut.a.point,!0),Object(_.a)(t,ut.a.current,n),t)),onClick:a})},pt=function(e){var t,n=e.direction,a=e.onClick;return Object(v.jsx)("div",{className:m()((t={},Object(_.a)(t,ut.a.button,!0),Object(_.a)(t,ut.a[n],!0),t)),onClick:a,children:Object(v.jsx)("i",{className:"icon icon-arrow"})})},_t=function(e){var t=e.photo,n=e.className,a=e.onClick;return Object(v.jsxs)("div",{className:m()(ut.a.square,n),onClick:a,children:[Object(v.jsx)("svg",{viewBox:"0 0 1 1"}),Object(v.jsx)("img",{className:ut.a.image,src:t.url,alt:"Post content"})]})},ft=Object(C.b)("comments/fetchAllPosts",function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(ht(t)),e.abrupt("return",L(t));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),bt=Object(C.c)({name:"comments",initialState:{loadedComments:[],currentPostId:-1,status:"idle"},reducers:{setCurrentPostId:function(e,t){e.currentPostId=t.payload}},extraReducers:function(e){e.addCase(ft.pending,(function(e){e.status="loading",e.loadedComments=[]})).addCase(ft.fulfilled,(function(e,t){e.status="idle",e.loadedComments=t.payload})).addCase(ft.rejected,(function(e){e.status="failed"}))}}),mt=bt.reducer,ht=bt.actions.setCurrentPostId,Ot=Object(C.a)({reducer:{posts:de,openedPost:Q,profile:we,comments:mt,localization:E}}),vt=function(e,t){"string"===typeof e&&(e=new Date(e.replace(/-/g,"/")).getTime()/1e3),t=t||Date.now()/1e3;var n=Math.abs(t-e);if(n<60)return{key:"date_now"};if(n<3600){var a=Math.floor(n/60);return{key:"date_minutes",count:a,replaces:{count:a.toString()}}}if(n<86400){var o=Math.floor(n/3600);return{key:"date_hours",count:o,replaces:{count:o.toString()}}}return{key:"date_date",replaces:{date:new Date(1e3*e).toLocaleDateString(T(Ot.getState()),{year:"numeric",month:"long",day:"2-digit"})}}},xt=function(e){var t=e.split("\n").map((function(e,t){return[e,Object(v.jsx)("br",{},t)]})).flat(1);return t.pop(),t},gt=n(40),Nt=n.n(gt),wt=function(e){var t=e.avatarSize,n=void 0===t?"2.5rem":t,a=e.comment,o=e.className,r=qe();return Object(v.jsxs)("div",{className:m()([Nt.a.comment,o]),children:[Object(v.jsx)(Ge,{url:a.commenter.profile_photo_url,size:n}),Object(v.jsxs)("div",{className:Nt.a.column,children:[Object(v.jsx)("div",{className:Nt.a.name,children:"".concat(a.commenter.first_name||""," ").concat(a.commenter.last_name||"")}),Object(v.jsx)("div",{className:Nt.a.message,children:xt(a.message)}),Object(v.jsx)("div",{className:Nt.a.time,children:r(vt(a.created_at))})]})]})},kt=n(53);n(153);function Ct(e){navigator.clipboard?navigator.clipboard.writeText(e):function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(n){console.error("Failed to copy text to clipboard!",n)}document.body.removeChild(t)}(e)}var Pt=n(17),St=n.n(Pt),yt=function(e){var t=e.post,n=e.sliderSides,a=e.onImageClicked,o=qe(),r=Object(d.g)(),c=Ee(),s=Object(kt.c)({id:t.id}).show,i=Be(Se),l=Te();return Object(v.jsxs)("div",{className:St.a.post,children:[Object(v.jsxs)("div",{className:St.a.header,children:[Object(v.jsx)(Ge,{url:t.author.profile_photo_url,size:"2.5em",to:"/profile/".concat(t.author.username)}),Object(v.jsxs)("div",{className:St.a.info,children:[Object(v.jsx)("div",{className:St.a.name,children:"".concat(t.author.first_name||""," ").concat(t.author.last_name||"")}),Object(v.jsx)("div",{className:St.a.time,children:o(vt(t.created_at))})]}),Object(v.jsx)("div",{className:St.a.more,onClick:function(e){return s(e)},children:Object(v.jsx)("i",{className:"icon icon-more"})})]}),Object(v.jsxs)("div",{className:St.a.content,children:[t.photos.length?Object(v.jsx)(dt,{photos:t.photos,onCenterClick:a,sides:n,roundBorders:!0}):o("post_no_images"),t.description&&Object(v.jsx)("div",{className:St.a.description,children:xt(t.description)})]}),Object(v.jsxs)("div",{className:St.a.footer,children:[Object(v.jsx)(tt,{className:St.a.iconButton,icon:"like",text:t.likes_count.toString(),checked:t.is_liked,onClick:function(){return l((function(){return c(t.is_liked?se(t.id):ce(t.id))}))}}),Object(v.jsx)(tt,{className:St.a.iconButton,icon:"comments",text:"0",onClick:function(){return r.push("/".concat(t.id))}}),Object(v.jsx)("div",{className:St.a.separator}),Object(v.jsxs)("div",{className:St.a.share,onClick:function(){return It(t.id)},children:[o("post_share")," ",Object(v.jsx)("i",{className:"icon icon-arrow"})]})]}),Object(v.jsxs)(kt.b,{id:t.id,children:[Object(v.jsx)(kt.a,{onClick:function(){return It(t.id)},children:o("post_copy_link")}),(null===i||void 0===i?void 0:i.username)===t.author.username&&Object(v.jsx)(kt.a,{className:St.a.danger,onClick:function(){return c(ie(t.id))},children:o("post_delete")})]})]})},It=function(e){Ct("https://zubiden.github.io/linkstagram#/"+e)},Et=n(13),Bt=n.n(Et),Tt=function(e){var t=e.postId,n=void 0===t?-1:t,o=e.opened,r=void 0!==o&&o,c=e.onRequestClose,s=qe(),i=Ee();Fe();var l,u=Be(ne),d=Be(be),j=Be(ae);return Object(a.useEffect)((function(){i(n>=0?Y(n):ee())}),[i,n]),l=u?Ze()?Object(v.jsxs)(v.Fragment,{children:[u.photos.length?Object(v.jsx)(dt,{photos:u.photos,className:Bt.a.slider}):Object(v.jsx)("div",{className:Bt.a.noImages,children:s("post_no_images")}),Object(v.jsxs)("div",{className:Bt.a.data,children:[Object(v.jsxs)("div",{className:Bt.a.header,children:[Object(v.jsx)(Ge,{className:Bt.a.avatar,url:u.author.profile_photo_url,size:"3rem"}),Object(v.jsx)("div",{className:Bt.a.name,children:"".concat(u.author.first_name||""," ").concat(u.author.last_name||"")}),Object(v.jsx)("div",{className:Bt.a.separator}),Object(v.jsx)("i",{className:"icon icon-cross ".concat(Bt.a.close),onClick:c})]}),Object(v.jsx)(Ft,{post:u,comments:j,likes:!0,padding:!0})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ke,{back:!0,onBackClick:c}),Object(v.jsx)(yt,{post:u,sliderSides:!0}),Object(v.jsx)(Ft,{post:u,comments:j})]}):s("loading"===d?"general_loading":"general_error_loading"),Object(v.jsx)(ot,{isOpen:r,className:Bt.a.modalPost,onRequestClose:c,tabletExpand:!0,children:l})},Ft=function(e){var t,n=e.comments,o=e.post,r=e.likes,c=void 0!==r&&r,s=e.padding,i=void 0!==s&&s,l=qe(),u=Ee(),d=Te(),p=Object(a.useState)(""),f=Object(j.a)(p,2),b=f[0],h=f[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:m()((t={},Object(_.a)(t,Bt.a.comments,!0),Object(_.a)(t,Bt.a.padding,i),t)),children:n.length?n.map((function(e){return Object(v.jsx)(wt,{avatarSize:"3rem",className:Bt.a.comment,comment:e},e.id)})):l("post_no_comments")}),c&&Object(v.jsx)("div",{className:Bt.a.buttons,children:Object(v.jsx)(tt,{icon:"like",text:o.likes_count.toString(),className:Bt.a.like,checked:o.is_liked,onClick:function(){return d((function(){return o.is_liked?u(se(o.id)):u(ce(o.id))}))}})}),Object(v.jsxs)("div",{className:Bt.a.newComment,children:[Object(v.jsx)(it,{minRows:1,className:Bt.a.input,placeholder:l("post_add_comment"),value:b,onChange:function(e){return h(e.currentTarget.value)}}),Object(v.jsx)("button",{className:Bt.a.post,onClick:function(){return d((function(){u(K({post_id:o.id,message:b})),h("")}))},children:l("post_post_comment")})]})]})},qt=n(51),At=n.n(qt),Rt=function(e){var t=e.username,n=Ee(),o=qe();Object(a.useEffect)((function(){n(oe(t))}),[t,n]);var r,c=Object(a.useState)(-1),s=Object(j.a)(c,2),i=s[0],u=s[1],d=Object(l.c)(fe),p=Object(l.c)(be);return r="idle"===p?d.length?d.map((function(e){return Object(v.jsx)(yt,{post:e,onImageClicked:function(){u(e.id)}},e.id)})):Object(v.jsx)("div",{className:At.a.text,children:o("feed_no_posts")}):"loading"===p?Object(v.jsx)("div",{className:At.a.text,children:o("general_loading")}):Object(v.jsx)("div",{className:At.a.text,children:o("general_error_loading")}),Object(v.jsxs)("div",{className:At.a.feed,children:[r,Object(v.jsx)(Tt,{opened:i>=0,postId:i,onRequestClose:function(){return u(-1)}})]})},zt=n(126),Lt=n.n(zt),Mt=n(79),Ht=n.n(Mt),Ut=function(){var e=Ht()({restrictions:{maxNumberOfFiles:10,allowedFileTypes:["image/png","image/jpg","image/jpeg"],maxFileSize:5242880}});return e.use(Lt.a,{companionUrl:A}),e},Dt=function(e,t){return e.addFile({name:t.name,type:t.type,data:t,source:"Local"})},Vt=function(e){return e.map((function(e){var t=e.meta.key.split("/"),n=Object(j.a)(t,2),a=n[0];return{id:n[1],storage:a,metadata:{filename:e.meta.name,size:e.data.size,mime_type:e.data.type}}}))},Jt=n(66),Wt=n.n(Jt),Gt=function(e){var t=e.uppy,n=e.accept,o=void 0===n?["image/*"]:n,r=e.multiple,c=void 0!==r&&r,s=e.text,i=e.defaultPreviewUrl,l=e.className,u=Object(a.useRef)(null),d=Object(a.useState)([]),p=Object(j.a)(d,2),f=p[0],b=p[1];Object(a.useEffect)((function(){t.getFiles().forEach((function(e){return t.removeFile(e.id)})),f.forEach((function(e){return Dt(t,e)}))}),[f,t]);var h=function(e){e.preventDefault(),e.stopPropagation()};return Object(v.jsxs)("div",{className:m()(Object(_.a)({},Wt.a.file,!0),l),onClick:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.click()},onDragOver:h,onDragEnter:h,onDragLeave:h,onDrop:function(e){e.preventDefault(),b(Array.from(e.dataTransfer.files))},children:[Object(v.jsx)("div",{className:Wt.a.preview,children:f.length?Object(v.jsx)(dt,{photos:Yt(f),className:Wt.a.slider}):i?Object(v.jsx)("img",{src:i,alt:"Preview"}):s}),Object(v.jsx)("input",{type:"file",accept:o.join(","),multiple:c,ref:u,hidden:!0,onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&b(Array.from(e.target.files))}})]})},Yt=function(e){return e.map((function(e,t){return{id:t,url:URL.createObjectURL(e)}}))},Xt=n(52),Kt=n.n(Xt),Zt=Ut(),Qt=function(e){var t=e.opened,n=void 0!==t&&t,o=e.onRequestClose,r=qe(),c=Ee(),s=Object(a.useState)(""),i=Object(j.a)(s,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){n||u("")}),[n]),Object(v.jsxs)(ot,{className:Kt.a.newPost,isOpen:n,onRequestClose:o,children:[Object(v.jsx)(Gt,{text:r("post_new_file"),className:Kt.a.input,uppy:Zt,multiple:!0,accept:["image/png","image/jpg","image/jpeg"]}),Object(v.jsx)(it,{className:Kt.a.description,minRows:3,placeholder:r("post_new_description_placeholder"),label:r("post_new_description"),onChange:function(e){return u(e.currentTarget.value)},value:l}),Object(v.jsxs)("div",{className:Kt.a.buttons,children:[Object(v.jsx)(x,{lightBorder:!0,onClick:o,children:r("general_cancel")}),Object(v.jsx)(x,{color:"blue",onClick:function(){var e=Object(k.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt.upload();case 2:(n=e.sent).successful.length?(a=Vt(n.successful),c(le({description:l,photos_attributes:a.map((function(e){return{image:e}}))})),null===o||void 0===o||o(t)):0===n.successful.length&&0===n.failed.length&&l&&(c(le({description:l,photos_attributes:[]})),null===o||void 0===o||o(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:r("post_new_post")})]})]})},$t=n(127),en=n.n($t),tn=function(e){var t=e.label,n=e.placeholder,a=(e.icon,e.iconColor,e.className),o=Object(f.a)(e,["label","placeholder","icon","iconColor","className"]);return Object(v.jsxs)("label",{className:m()(Object(_.a)({},en.a.input,!0),a),children:[t,Object(v.jsx)("input",Object(p.a)({placeholder:n},o))]})},nn=n(15),an=n.n(nn),on=Ut(),rn=function(e){var t=e.opened,n=void 0!==t&&t,o=e.onRequestClose,r=qe(),c=Ee(),s=Be(Se),i=Object(a.useState)(null===s||void 0===s?void 0:s.first_name),l=Object(j.a)(i,2),u=l[0],d=l[1],_=Object(a.useState)(null===s||void 0===s?void 0:s.last_name),f=Object(j.a)(_,2),b=f[0],h=f[1],O=Object(a.useState)(null===s||void 0===s?void 0:s.job_title),g=Object(j.a)(O,2),N=g[0],C=g[1],P=Object(a.useState)(null===s||void 0===s?void 0:s.description),S=Object(j.a)(P,2),y=S[0],I=S[1];return s?Object(v.jsxs)(ot,{className:an.a.profileEdit,isOpen:n,onRequestClose:o,children:[Object(v.jsxs)("div",{className:an.a.header,children:[Object(v.jsx)("div",{className:an.a.title,children:r("profile_edit_title")}),Object(v.jsx)("div",{className:an.a.logout,onClick:function(e){c(xe()),null===o||void 0===o||o(e)},children:r("general_logout")})]}),Object(v.jsxs)("div",{className:an.a.topBlock,children:[Object(v.jsxs)("div",{className:an.a.avatarWrapper,children:[Object(v.jsx)(Gt,{className:an.a.avatar,uppy:on,defaultPreviewUrl:s.profile_photo_url}),Object(v.jsx)("div",{className:an.a.avatarText,children:r("profile_edit_photo")})]}),Object(v.jsxs)("div",{className:an.a.name,children:[Object(v.jsx)(tn,{className:an.a.input,label:r("profile_edit_first_name"),placeholder:r("profile_edit_first_name_placeholder"),value:u,onChange:function(e){return d(e.currentTarget.value)}}),Object(v.jsx)(tn,{className:an.a.input,label:r("profile_edit_second_name"),placeholder:r("profile_edit_second_name_placeholder"),value:b,onChange:function(e){return h(e.currentTarget.value)}})]})]}),Object(v.jsx)(tn,{className:an.a.input,label:r("profile_edit_job_title"),placeholder:r("profile_edit_job_title_placeholder"),value:N,onChange:function(e){return C(e.currentTarget.value)}}),Object(v.jsx)(it,{className:m()(an.a.input,an.a.description),label:r("profile_edit_description"),placeholder:r("profile_edit_description_placeholder"),value:y,onChange:function(e){return I(e.currentTarget.value)}}),Object(v.jsxs)("div",{className:an.a.buttons,children:[Object(v.jsx)(x,{lightBorder:!0,onClick:o,children:r("general_cancel")}),Object(v.jsx)(x,{color:"blue",onClick:function(){var e=Object(k.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object(p.a)({},s)).first_name=u,n.last_name=b,n.job_title=N,n.description=y,!on.getFiles().length){e.next=10;break}return e.next=8,on.upload();case 8:(a=e.sent).successful.length&&(n.profile_photo=Vt(a.successful)[0]);case 10:c(ve(n)),null===o||void 0===o||o(t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:r("general_save")})]})]}):Object(v.jsx)(ot,{className:an.a.profileEdit,isOpen:n,onRequestClose:o,children:"NO ACCOUNT!!!"})},cn=n(7),sn=n.n(cn),ln=function(e){var t=e.profile,n=e.own,o=void 0!==n&&n,r=e.horizontal,c=void 0!==r&&r,s=qe(),i=Te(),l=Object(a.useState)(!1),u=Object(j.a)(l,2),d=u[0],p=u[1],_=Object(a.useState)(!1),f=Object(j.a)(_,2),b=f[0],h=f[1],O="".concat(t.first_name||""," ").concat(t.last_name||"");return c?Object(v.jsxs)("div",{className:m()([sn.a.profileInfo,sn.a.horizontal]),children:[Object(v.jsx)(Ge,{url:t.profile_photo_url,border:!0,size:"7.25em"}),Object(v.jsxs)("div",{className:sn.a.info,children:[Object(v.jsx)("div",{className:sn.a.name,children:O}),Object(v.jsx)("div",{className:sn.a.job,children:t.job_title||""}),Object(v.jsx)("div",{className:sn.a.description,children:xt(t.description||"")})]}),Object(v.jsx)("div",{className:sn.a.separator}),Object(v.jsxs)("div",{className:sn.a.right,children:[Object(v.jsxs)("div",{className:sn.a.social,children:[Object(v.jsxs)("div",{className:sn.a.followers,children:[Object(v.jsx)("div",{className:sn.a.number,children:t.followers}),Object(v.jsx)("div",{className:sn.a.smallText,children:s("profile_followers",{},t.followers)})]}),Object(v.jsxs)("div",{className:sn.a.following,children:[Object(v.jsx)("div",{className:sn.a.number,children:t.following}),Object(v.jsx)("div",{className:sn.a.smallText,children:s("profile_following")})]})]}),o&&Object(v.jsxs)("div",{className:sn.a.actionButtons,children:[Object(v.jsx)(x,{smallPadding:!0,lightBorder:!0,onClick:function(){return i((function(){return h(!0)}))},children:s("profile_edit")}),Object(v.jsx)(x,{smallPadding:!0,color:"blue",onClick:function(){return i((function(){return p(!0)}))},children:s("post_new")})]})]}),Object(v.jsx)(Qt,{opened:d,onRequestClose:function(){return p(!1)}}),Object(v.jsx)(rn,{opened:b,onRequestClose:function(){return h(!1)}})]}):Object(v.jsxs)("div",{className:sn.a.profileInfo,children:[Object(v.jsxs)("div",{className:sn.a.top,children:[Object(v.jsxs)("div",{className:sn.a.followers,children:[Object(v.jsx)("div",{className:sn.a.number,children:t.followers}),Object(v.jsx)("div",{className:sn.a.smallText,children:s("profile_followers",{},t.followers)})]}),Object(v.jsx)(Ge,{url:t.profile_photo_url,border:!0,size:"5em"}),Object(v.jsxs)("div",{className:sn.a.following,children:[Object(v.jsx)("div",{className:sn.a.number,children:t.following}),Object(v.jsx)("div",{className:sn.a.smallText,children:s("profile_following")})]})]}),Object(v.jsxs)("div",{className:sn.a.bottom,children:[Object(v.jsxs)("div",{className:sn.a.info,children:[O," ",t.job_title?"- ".concat(t.job_title||""):""]}),Object(v.jsx)("div",{className:sn.a.description,children:xt(t.description||"")}),o&&Object(v.jsxs)("div",{className:sn.a.actionButtons,children:[Object(v.jsx)(x,{smallPadding:!0,onClick:function(){return i((function(){return h(!0)}))},children:s("profile_edit")}),Object(v.jsx)(x,{smallPadding:!0,color:"blue",onClick:function(){return i((function(){return p(!0)}))},children:s("post_new")})]})]}),Object(v.jsx)(Qt,{opened:d,onRequestClose:function(){return p(!1)}}),Object(v.jsx)(rn,{opened:b,onRequestClose:function(){return h(!1)}})]})},un=n(83),dn=n.n(un),jn=function(){var e=Ee();Object(a.useEffect)((function(){e(he())}),[e]);var t=Be(Pe);return Object(v.jsx)("div",{className:dn.a.stories,children:Object(v.jsx)("div",{className:dn.a.scroll,children:t.filter((function(e){return e.profile_photo_url})).map((function(e){return Object(v.jsx)(Ge,{url:e.profile_photo_url,size:"4em",to:"/profile/".concat(e.username),border:!0},e.username)}))})})},pn=n(41),_n=n.n(pn),fn=function(){var e=qe(),t=Object(d.g)(),n=Object(d.h)().id,o=Object(a.useState)(!1),r=Object(j.a)(o,2),c=r[0],s=r[1],i=Be(ye),l=Be(Se);return Object(a.useEffect)((function(){Number.parseInt(n)?s(!0):s(!1)}),[n]),Object(v.jsxs)("div",{className:_n.a.home,children:[Object(v.jsx)(Ke,{profile:!0,login:!0}),Object(v.jsxs)("div",{className:_n.a.content,children:[Object(v.jsxs)("div",{className:_n.a.left,children:[Object(v.jsx)(jn,{}),Object(v.jsx)(Rt,{})]}),Object(v.jsx)("div",{className:_n.a.right,children:Object(v.jsxs)("div",{className:_n.a.sticky,children:[i?Object(v.jsx)(ln,{profile:l,own:!0}):Object(v.jsx)(x,{color:"black",to:"/login",children:e("general_login")}),Object(v.jsx)(He,{})]})})]}),Object(v.jsx)(Tt,{opened:c,postId:Number.parseInt(n)||-1,onRequestClose:function(){return t.push("/")}})]})},bn=n(42),mn=n(43),hn=n(24),On=n.n(hn),vn=function(e){var t=e.signUp,n=void 0!==t&&t,a=qe();return Object(v.jsx)(x,{className:On.a.button,color:"blue",type:"submit",children:a(n?"login_sign_up_button":"login_login_button")})},xn=function(e){var t=e.field,n=e.form,a=n.touched,o=n.errors,r=n.setFieldValue,c=n.values,s=Object(f.a)(e,["field","form"]);return Object(v.jsxs)("div",{className:On.a.input,children:[Object(v.jsx)(tn,Object(p.a)({onChange:function(e){return r(t.name,e.currentTarget.value)},name:t.name,value:c[t.name]},s)),a[t.name]&&o[t.name]&&Object(v.jsx)("div",{className:On.a.error,children:o[t.name]})]})},gn=function(){var e=qe(),t=Ee(),n=Be(ye),o=Object(a.useState)(!1),r=Object(j.a)(o,2),c=r[0],s=r[1],i=mn.a().shape({email:mn.b().email(e("login_validation_email_invalid")).required(e("login_validation_required")),username:c?mn.b().min(3,e("login_validation_min_length",{count:"3"},3)).max(20,e("login_validation_max_length",{count:"20"},20)).matches(/^[a-zA-Z0-9._-]*$/,"Use alphabet, numbers and _ -").test("isTaken",e("login_validation_username_taken"),(function(e){return!e||new Promise((function(t,n){W(e).then((function(e){t(!1)})).catch((function(){t(!0)}))}))})).required(e("login_validation_required")):mn.b(),password:mn.b().min(6,e("login_validation_min_length",{count:"6"},6)).required(e("login_validation_required"))});return n?Object(v.jsx)(d.a,{to:"/"}):Object(v.jsxs)("div",{className:On.a.login,children:[Object(v.jsx)(Ke,{}),Object(v.jsxs)("div",{className:On.a.content,children:[Object(v.jsx)("div",{className:On.a.presentation,children:"Photos go wroom"}),Object(v.jsxs)("div",{className:On.a.authPane,children:[Object(v.jsx)("div",{className:On.a.title,children:e(c?"login_sign_up":"login_login")}),Object(v.jsx)(bn.c,{initialValues:{email:"",username:"",password:""},onSubmit:function(){var e=Object(k.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c?(a={login:n.email,password:n.password,username:n.username},fetch("".concat(A,"/create-account"),{method:"POST",body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){var t=e.headers.get("authorization");return t?localStorage.setItem("auth",t):localStorage.removeItem("auth"),e.json()}))).then((function(){return t(Oe())})):R({login:n.email,password:n.password}).then((function(){return t(Oe())}));case 1:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:i,children:Object(v.jsxs)(bn.b,{children:[Object(v.jsx)(bn.a,{name:"email",type:"email",component:xn,label:e("login_field_email_label"),placeholder:e("login_field_email_placeholder")}),c&&Object(v.jsx)(bn.a,{name:"username",component:xn,label:e("login_field_username_label"),placeholder:e("login_field_username_placeholder")}),Object(v.jsx)(bn.a,{name:"password",component:xn,type:"password",label:e("login_field_password_label"),placeholder:e("login_field_password_placeholder")}),Object(v.jsx)("div",{className:On.a.mobileSeparator}),Ze()&&Object(v.jsx)(vn,{signUp:c}),Object(v.jsxs)("div",{className:On.a.switch,children:[e(c?"login_have_account":"login_no_account"),Object(v.jsx)("span",{className:On.a.inlineSwitch,onClick:function(){return s(!c)},children:e(c?"login_login":"login_sign_up")})]}),!Ze()&&Object(v.jsx)(vn,{signUp:c})]})})]})]})]})},Nn=n(67),wn=n.n(Nn),kn=function(e){var t=e.username,n=Ee(),o=qe();Object(a.useEffect)((function(){n(oe(t))}),[t,n]);var r,c=Object(a.useState)(-1),s=Object(j.a)(c,2),i=s[0],u=s[1],d=Object(l.c)(fe),p=Object(l.c)(be);return r="idle"===p?d.length?d.map((function(e){return e.photos.map((function(t){return Object(v.jsx)(Cn,{url:t.url,onClick:function(){return u(e.id)}},t.id)}))})).flat(1):Object(v.jsx)("div",{className:wn.a.text,children:o("feed_no_posts")}):o("loading"===p?"general_loading":"general_error_loading"),Object(v.jsxs)("div",{className:wn.a.photoFeed,children:[r,Object(v.jsx)(Tt,{opened:i>=0,postId:i,onRequestClose:function(){return u(-1)}})]})},Cn=function(e){var t=e.url,n=e.onClick;return Object(v.jsx)("div",{className:wn.a.square,onClick:n,style:{backgroundImage:"url(".concat(t,")")}})},Pn=n(85),Sn=n.n(Pn),yn=function(){var e=Object(d.h)().username,t=Be(Se);Fe();var n=Object(a.useState)(null),o=Object(j.a)(n,2),r=o[0],c=o[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),l=i[0],u=i[1];if(Object(a.useEffect)((function(){e?r&&r.username===e||W(e).then((function(e){return c(e)})).catch((function(e){return u("Failed to get profile")})):c(t)}),[e,t,r]),!e&&!localStorage.getItem("auth"))return Object(v.jsx)(d.a,{to:"/login"});var p=!!r&&(null===t||void 0===t?void 0:t.username)===r.username;return Object(v.jsxs)("div",{className:Sn.a.ownProfile,children:[Object(v.jsx)(Ke,{home:!0,profile:!p}),Object(v.jsx)("div",{className:Sn.a.content,children:l||(r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ln,{profile:r,own:p,horizontal:Ze()}),Object(v.jsx)(kn,{username:r.username})]}):"Failed to load profile")})]})};var In=function(){var e,t=Ee(),n=Be(T);return e=function(){t(y(n)),localStorage.getItem("auth")&&t(Oe())},Object(a.useEffect)(e,[]),Object(v.jsx)(u.a,{children:Object(v.jsxs)(d.d,{children:[Object(v.jsx)(d.b,{exact:!0,path:"/login",children:Object(v.jsx)(gn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/profile/:username",children:Object(v.jsx)(yn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/profile",children:Object(v.jsx)(yn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/:id",children:Object(v.jsx)(fn,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/",children:Object(v.jsx)(fn,{})}),Object(v.jsx)(d.b,{children:Object(v.jsx)(d.a,{to:"/"})})]})})};n(285),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function En(){var e=Qe?window.visualViewport.height:window.innerHeight;document.documentElement.style.setProperty("--vh100","".concat(e-1,"px"))}c.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(l.a,{store:Ot,children:Object(v.jsx)(In,{})})}),document.getElementById("app")),i.a.setAppElement("#app"),En(),window.addEventListener("resize",(function(){En()})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,n){e.exports={button:"Button_button__Iv7O1",square:"Button_square__24Qg9",smallPadding:"Button_smallPadding__1s_AW",white:"Button_white__E8Wbq",blue:"Button_blue__1Yy1O",black:"Button_black__obrtp",lightBorder:"Button_lightBorder__pQOr6"}},39:function(e,t,n){e.exports={square:"Avatar_square__BGVCN",clickable:"Avatar_clickable__9RUE4",border:"Avatar_border__1fx0F",visible:"Avatar_visible__2JtjS",avatar:"Avatar_avatar__JOSFH"}},40:function(e,t,n){e.exports={comment:"Comment_comment__1oC7d",column:"Comment_column__3_p8X",name:"Comment_name__1yMvS",message:"Comment_message__ZB4Zo",time:"Comment_time__U8Dri"}},41:function(e,t,n){e.exports={home:"Home_home__8bgC6",content:"Home_content__3Qx40",left:"Home_left__2wJ4m",right:"Home_right__3Vd87",sticky:"Home_sticky__2N9Pd"}},50:function(e,t,n){e.exports={footer:"Footer_footer__miWNG",buttonRow:"Footer_buttonRow__eb9fI",greyButton:"Footer_greyButton__1OzgT"}},51:function(e,t,n){e.exports={feed:"Feed_feed__3hto0",text:"Feed_text__3JgoK"}},52:function(e,t,n){e.exports={newPost:"NewPost_newPost__2t2ka",input:"NewPost_input__O7B-h",description:"NewPost_description__1_5So",buttons:"NewPost_buttons__2rXn9"}},65:function(e,t,n){e.exports={overlay:"Modal_overlay__pTwNa",modal:"Modal_modal__16s7U",tabletExpand:"Modal_tabletExpand__3DpAd"}},66:function(e,t,n){e.exports={file:"ImageInput_file__2jY1F",preview:"ImageInput_preview__3egAg",slider:"ImageInput_slider__vwkRJ"}},67:function(e,t,n){e.exports={photoFeed:"PhotoFeed_photoFeed__1hn3a",square:"PhotoFeed_square__1VW1n"}},7:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__cLKJa",top:"ProfileInfo_top__3o043",followers:"ProfileInfo_followers__2Nu_-",following:"ProfileInfo_following__2ttTb",number:"ProfileInfo_number__Lj_2R",smallText:"ProfileInfo_smallText__XuTrR",bottom:"ProfileInfo_bottom__1S_qc",info:"ProfileInfo_info__3zEMb",description:"ProfileInfo_description__1hzwZ",actionButtons:"ProfileInfo_actionButtons__1207A",horizontal:"ProfileInfo_horizontal__1TlCv",name:"ProfileInfo_name__2Nwq-",job:"ProfileInfo_job__b60_r",separator:"ProfileInfo_separator__2VEdK",right:"ProfileInfo_right__1dEse",social:"ProfileInfo_social__17pXh"}},83:function(e,t,n){e.exports={stories:"Stories_stories__3gVf3",scroll:"Stories_scroll__2hIlC"}},85:function(e,t,n){e.exports={ownProfile:"Profile_ownProfile__2Inxr",content:"Profile_content__1JwYV"}}},[[286,1,2]]]);
//# sourceMappingURL=main.cf1d76f0.chunk.js.map